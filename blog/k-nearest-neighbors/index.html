<!DOCTYPE html><html lang="en" class="blogpost-view-page"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.68ae1baab68ca0464b68.css">code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.view-page-header-wrapper{display:flex;justify-content:center}.view-page-header-wrapper .logo-wrapper{align-items:center;display:flex}.view-page-header-wrapper .logo{border:1px solid var(--avatarBorderColor);border-radius:50%;height:90px;-webkit-user-select:none;-ms-user-select:none;user-select:none;width:90px}.view-page-header-wrapper .logo-img{width:5rem;height:auto;border-radius:50%;transform:translate(5px,5px);-ms-transform:translate(5px,5px);-webkit-transform:translate(5px,5px)}.view-page-header-wrapper .name{font-size:2rem;padding-left:.5rem;margin-top:.2rem;margin-bottom:.2rem}.view-page-header-wrapper .blog-title{color:var(--thoughtsPageTitleColor);font-family:Dancing Script,cursive;font-size:4rem;font-weight:700;margin-top:auto;margin-bottom:auto;padding-left:1.5rem;text-align:center}@media (max-width:575px){.view-page-header-wrapper .blog-title{font-size:3rem;line-height:3rem;padding-left:1rem}.view-page-header-wrapper .name{font-size:1.5rem}.view-page-header-wrapper .logo{width:90px;height:90px}.view-page-header-wrapper .logo-img{width:5rem}}.view-page-header-wrapper .blog-title a{color:var(--thoughtsPageTitleColor)}.thought-author-wrapper{text-align:center}.thought-author-wrapper .avatar{margin:0 auto;border-radius:50%;width:122px;height:122px;border:1px solid var(--avatarBorderColor)}.thought-author-wrapper .logo-img{width:7rem;height:auto;border-radius:50%;transform:translate(5px,5px);-ms-transform:translate(5px,5px);-webkit-transform:translate(5px,5px)}.thought-author-wrapper .name{font-size:2rem;margin-top:.2rem;margin-bottom:.2rem}.thought-author-wrapper .thought-section-descr{font-size:.9rem;margin-top:0;margin-bottom:0}.main-navigation ul{display:flex;justify-content:center;padding-left:0;text-align:center}.main-navigation ul li{list-style:none;text-transform:lowercase}.main-navigation ul:last-child:after,.main-navigation ul li:before{content:"\2022";padding-left:5px;vertical-align:middle}.main-navigation ul:last-child:after{line-height:25px}.main-navigation ul li a{padding-left:5px;vertical-align:middle}body{--themeSwitcherTrackBackgroundColor:var(--grey);--themeSwitcherThumbBackgroundColor:var(--white)}body.dark{--themeSwitcherTrackBackgroundColor:var(--midnightDarker);--themeSwitcherThumbBackgroundColor:var(--grey)}.theme-switcher{text-align:center}.theme-switcher-toggler{touch-action:pan-x;display:inline-block;position:relative;cursor:pointer;background-color:transparent;border:0;padding:0;-webkit-touch-callout:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.theme-switcher-track{width:50px;height:24px;padding:0;border-radius:30px;background-color:var(--themeSwitcherTrackBackgroundColor);transition:all .2s ease}.theme-switcher-toggler--checked .theme-switcher-thumb{transform:translateX(26px)}.theme-switcher-thumb{position:absolute;top:1px;left:1px;width:22px;height:22px;border-radius:50%;background-color:var(--themeSwitcherThumbBackgroundColor);box-sizing:border-box;transition:all .5s cubic-bezier(.23,1,.32,1) 0ms;transform:translateX(0)}.theme-switcher-input{display:none}body{--blogHeaderColor:var(--red);--blogTagColor:grey}body.dark{--blogHeaderColor:var(--pink);--blogTagColor:var(--grey)}.thought-wrapper h1{color:var(--blogHeaderColor)}ul.blog-tags{display:flex;font-size:.9rem;flex-direction:row;flex-wrap:wrap;justify-content:center;list-style:none;padding:0;text-align:center}ul.blog-tags li{border:1px solid var(--blogTagColor);border-radius:4px;color:var(--blogTagColor);padding:5px 10px;margin-right:5px;margin-bottom:5px;white-space:nowrap}body{--thoughtHeaderColor:var(--red)}body.dark{--thoughtHeaderColor:var(--pink)}.thought-wrapper h1{color:var(--thoughtHeaderColor);font-size:3rem;line-height:4rem;margin-bottom:1rem;margin-top:1rem;text-align:center}@media (max-width:575px){.thought-wrapper h1{font-size:2rem;line-height:3rem}}.thought-wrapper .thought-details{font-size:.9rem;margin-bottom:1rem}.thought-wrapper .thought-createdat{font-weight:400}.thought-wrapper .theme-switcher{float:right;margin-left:1rem;margin-top:0}.thought-wrapper .cover,.thought-wrapper .cover-filter{left:50%;margin-left:-50vw;overflow:hidden;position:relative;width:100vw}.thought-wrapper .cover{max-height:600px}body{--backquoteBorderColor:var(--red)}body.dark{--backquoteBorderColor:var(--pink)}.content h2,.content h3,.content h4,.content h5,.content h6{font-weight:500;letter-spacing:0;margin-top:1.95em;margin-bottom:-.3em}.content,.content p{font-size:1.4rem;letter-spacing:-.003em;line-height:1.6;margin-bottom:1.2rem;margin-top:.5rem;text-align:justify}.content p{margin-top:2rem}.content ul ol{padding:0;margin:0}.content a{text-decoration:underline}.content ol li,.content ul li{margin-left:30px;margin-top:.8em}.content blockquote{box-shadow:var(--backquoteBorderColor) 3px 0 0 0 inset;font-size:1.3rem;font-style:italic;line-height:1.7;margin-left:-20px;padding-left:20px}@media (max-width:575px){.content blockquote{margin:.5rem}}.image-title{font-size:1.1rem;text-align:center}body{--blogNavigationLinkColor:var(--red);--allPostsNavigationLinkColor:var(--black)}body.dark{--blogNavigationLinkColor:var(--pink);--allPostsNavigationLinkColor:var(--white)}.blog-navigation-wrapper{padding-left:1rem;padding-right:1rem}.blog-navigation-wrapper h3{font-size:1.5rem;text-align:center}.blog-navigation .nav-links{padding:0;text-align:center;width:100%}.blog-navigation .nav-links a{color:var(--blogNavigationLinkColor);display:block;font-weight:700;margin-bottom:.875rem;text-decoration:none}.blog-navigation a.all-posts{color:var(--allPostsNavigationLinkColor)}body{--thoughtNavigationLinkColor:var(--red);--allThoughtsNavigationLinkColor:var(--black)}body.dark{--thoughtNavigationLinkColor:var(--pink);--allThoughtsNavigationLinkColor:var(--white)}.thought-navigation-wrapper{padding-left:1rem;padding-right:1rem}.thought-navigation .nav-links{padding:0;text-align:center;width:100%}.thought-navigation .nav-links a{color:var(--thoughtNavigationLinkColor);display:block;font-weight:700;margin-bottom:.875rem;text-decoration:none}.thought-navigation a.all-thoughts{color:var(--allThoughtsNavigationLinkColor)}body{--black:#000;--blackLigher:#262626;--red:#e74c3c;--brownDarker:#5a4e3e}body,body.dark{--white:#fff;--grey:#ebebeb}body.dark{--pink:#ffa7c4;--midnight:#373c49;--midnightDarker:rgba(0,0,0,0.27)}body{--bodyBackgroundColor:var(--white);--bodyTextColor:var(--black);--linkColor:var(--black);--linkHoverColor:var(--red);--thoughtCoverBlendColor:var(--brownDarker);--thoughtCoverBlendMode:lighten}body.dark{--bodyBackgroundColor:var(--midnight);--bodyTextColor:var(--white);--linkColor:var(--white);--linkHoverColor:var(--pink)}@font-face{font-family:Ledger;font-weight:400;font-style:normal;font-display:swap}html{scroll-behavior:smooth}body{color:var(--bodyTextColor);background-color:var(--bodyBackgroundColor);box-sizing:border-box;font-family:Ledger,serif;margin:0;text-rendering:optimizeLegibility;transition:color .2s ease-out,background .2s ease-out;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{color:var(--linkColor);text-decoration:none}a:hover{color:var(--linkHoverColor)}.avatar{border:1px solid var(--avatarBorderColor);border-radius:50%;height:170px;margin:0 auto;-webkit-user-select:none;-ms-user-select:none;user-select:none;width:170px}.logo-img{border-radius:50%;width:10rem;height:auto;transform:translate(5px,5px)}.clearfix{clear:both}.cover-filter{background-color:var(--thoughtCoverBlendColor)}.cover-filter .cover{mix-blend-mode:var(--thoughtCoverBlendMode);-webkit-user-select:none;-ms-user-select:none;user-select:none}body.dark .cover-filter{-webkit-filter:brightness(.5);filter:brightness(.5)}.not-found-page body,.not-found-page body>div,.not-found-page body>div>div,.not-found-page body>div>div>div,html.not-found-page{height:100%}.not-found-page .row{flex-direction:column}.not-found-wrapper h1{font-size:2.5rem;margin-bottom:1rem;text-align:center;text-transform:uppercase}.not-found-wrapper{text-align:center}.not-found-wrapper p{margin:0}.not-found-wrapper .not-found-img{width:10rem;margin:0 auto;border-radius:50%}.not-found-wrapper .theme-switcher-toggler{margin-top:1rem}.blog-item{list-style:none;margin-bottom:2rem}.blog-item h2{font-size:1.6rem;line-height:2.4rem;margin-top:0;margin-bottom:.5rem}.blog-item h2 a{color:var(--thoughtTeaserHeaderLinkColor)}.blog-item p.blog-digest{font-size:1rem;line-height:1.6rem;margin-bottom:1.2rem;margin-top:.5rem}.blog-item .blog-details{font-size:.8rem;margin-bottom:.5rem}.blog-created-at{font-weight:600;text-transform:uppercase}.blog-header-wrapper{display:flex;justify-content:center}.blog-header-wrapper .logo-wrapper{align-items:center;display:flex}.blog-header-wrapper .logo{border:1px solid var(--avatarBorderColor);border-radius:50%;height:90px;-webkit-user-select:none;-ms-user-select:none;user-select:none;width:90px}.blog-header-wrapper .logo-img{width:5rem;height:auto;border-radius:50%;transform:translate(5px,5px);-ms-transform:translate(5px,5px);-webkit-transform:translate(5px,5px)}.blog-header-wrapper .name{font-size:2rem;padding-left:.5rem;margin-top:.2rem;margin-bottom:.2rem}.blog-header-wrapper .blog-title{color:var(--thoughtsPageTitleColor);font-family:Dancing Script,cursive;font-size:4rem;font-weight:700;margin-top:auto;margin-bottom:auto;padding-left:1.5rem;text-align:center}@media (max-width:575px){.blog-header-wrapper .blog-title{font-size:3rem;line-height:3rem;padding-left:1rem}.blog-header-wrapper .name{font-size:1.5rem}.blog-header-wrapper .logo{width:90px;height:90px}.blog-header-wrapper .logo-img{width:5rem}}.blog-header-wrapper .blog-title a{color:var(--thoughtsPageTitleColor)}.hero-header{background-size:cover;background-position:50%;height:40rem;position:relative;overflow:hidden;width:100%;z-index:1}.hero-header canvas{height:100%;width:100%}.hero-header h1.title{position:absolute;pointer-events:none;font-size:4rem;line-height:1.2;padding:0;margin:0;text-align:center;top:50%;width:100%;transform:translate3d(0,-50%,0)}.hero-header .title .highlight{color:var(--thoughtsPageTitleColor)}.hero-header .title .subscript{font-size:3rem}body{--liveCircleColorOn:rgba(231,76,60,0.2);--liveCircleColorOff:rgba(231,76,60,0)}body.dark{--liveCircleColor:rgba(255,167,196,0.5);--liveCircleColorOff:rgba(255,167,196,0)}.lab-header{background-size:cover;background-position:50%;height:40rem;position:relative;overflow:hidden;width:100%;z-index:1}.lab-header canvas{height:100%;width:100%}.lab-header h1.title{position:absolute;pointer-events:none;font-size:4rem;line-height:1.2;padding:0;margin:0;text-align:center;top:50%;width:100%;transform:translate3d(0,-50%,0)}.lab-header .title .highlight{color:var(--thoughtsPageTitleColor)}.lab-header .title .subscript{font-size:3rem;position:relative}.lab-header .title .after{font-size:3rem}.live-circle{background-color:var(--thoughtsPageTitleColor);border-radius:50%;position:absolute;right:-14px;top:14px;width:10px;height:10px}.pulse{animation:live-pulse 2s infinite}@keyframes live-pulse{0%{box-shadow:0 0 0 0 var(--liveCircleColorOn)}to{box-shadow:0 0 0 10px var(--liveCircleColorOff)}}.experiment-item{list-style:none;margin-bottom:2rem;text-align:center}.experiment-item h2{font-size:1.6rem;line-height:2.4rem;margin-top:0;margin-bottom:.5rem;width:100%}.experiment-item h2 a{color:var(--thoughtTeaserHeaderLinkColor);width:100%}.experiment-item p.blog-digest{font-size:1rem;line-height:1.6rem;margin-bottom:1.2rem;margin-top:.5rem}.experiment-item .blog-details{font-size:.8rem;margin-bottom:.5rem}.experiment-created-at{font-weight:600;text-transform:uppercase}.experiment-item .experiment-preview{text-align:center}.experiment-item .experiment-preview svg{color:var(--blackLigher);padding:1rem}body{--thoughtTeaserHeaderLinkColor:var(--red)}body.dark{--thoughtTeaserHeaderLinkColor:var(--pink)}.thought-item{list-style:none;margin-bottom:2rem}.thought-item h2{font-size:1.6rem;line-height:2.4rem;margin-top:0}.thought-item h2 a{color:var(--thoughtTeaserHeaderLinkColor)}.thought-item p.thought-digest{font-size:1rem;line-height:1.6rem;margin-bottom:1.2rem;margin-top:.5rem}.thought-item .thought-details{font-size:.8rem;margin-bottom:.5rem}.thought-createdat{font-weight:600;text-transform:uppercase}body{--secondNameColor:var(--red);--storyLinkColor:var(--red);--socialLinkBorderHoverColor:var(--red)}body,body.dark{--avatarBorderColor:var(--grey);--socialLinkBorderColor:var(--grey)}body.dark{--secondNameColor:var(--pink);--storyLinkColor:var(--pink);--socialLinkBorderHoverColor:var(--pink)}.home-page body,.home-page body>div,.home-page body>div>div,.home-page body>div>div>div,html.home-page{height:100%}.container{height:100%;flex-direction:column;justify-content:center}.container,.row{display:flex;align-items:center}.column{flex:50% 1}.sidebar.column{flex:20% 1}@media (max-width:575.98px){.home-page body,.home-page body>div,.home-page body>div>div,.home-page body>div>div>div,html.home-page{height:auto}.container{margin-top:2.5rem;margin-bottom:2.5rem;padding-left:1rem;padding-right:1rem}.row{display:block}.my-story-content{text-align:justify}.column,.sidebar.column{width:100%}.social-item>a>svg{padding:20px}}.my-story-content{font-size:1.1rem;line-height:1.6;max-width:800px;text-align:justify}.my-story-content .intro{text-align:center}.my-story-content .intro .hey{margin-bottom:8px}.my-story-content .intro .title-summary{margin-top:0}.my-story-content a{color:var(--storyLinkColor);font-weight:700}.name{font-family:Dancing Script,cursive;font-size:3rem;margin-top:10px;margin-bottom:5px;text-align:center}.second-name{color:var(--secondNameColor)}.title{text-align:center;font-size:1.2rem;line-height:1.2rem}.home-page .theme-switcher{margin-top:10px}.homepage-sidebar .social{margin-top:20px}.social .social-list{display:flex;flex-flow:row wrap;flex-grow:0;flex-shrink:0;justify-content:center;list-style:none;padding:0;margin:0}.homepage-sidebar .social .social-list .social-item{border:1px solid var(--socialLinkBorderColor);border-radius:50%;margin:.25rem}.homepage-sidebar .social .social-list .social-item:hover{border:1px solid var(--socialLinkBorderHoverColor)}.homepage-sidebar .social .social-list .social-item>a>svg{height:14px;padding:10px;vertical-align:middle;width:14px}body{--footerIconColor:var(--blackLigher);--footerBgColor:var(--grey);--copyrightColor:var(--midnightDarker)}body.dark{--footerIconColor:var(--white);--footerBgColor:var(--midnightDarker);--copyrightColor:var(--grey)}footer{background-color:var(--footerBgColor)}footer,footer a{color:var(--footerIconColor)}footer .footer-wrapper{padding:4rem 1rem}.copyright{color:var(--copyrightColor);text-align:center}.footer-separator{display:flex;justify-content:center}.footer-separator .separator{background-color:#fff;width:3px;height:3px;border-radius:50%;margin-right:20px}footer .social-list .social-item{margin:.5rem}.copyright{font-size:1.1rem;margin:2rem auto 0}.experiment-grid{display:flex;max-width:70rem;margin:0 auto;justify-content:space-between;flex-wrap:wrap}.experiment-grid.no-experiments{justify-content:center}.blog-experiment .no-experiments-placeholder{padding:2rem;margin-bottom:32px;text-align:center}.experiment-grid .experiment-item{flex:0 1 30%;padding:10px}.experiment-grid .experiment-item .cover{height:200px}@media screen and (max-width:992px){.experiment-grid .experiment-item{flex:0 1 45%}}@media screen and (max-width:600px){.experiment-grid .experiment-item{flex:100% 1;flex-direction:column}.experiment-grid .experiment-item .cover{height:auto}}.game{display:flex;justify-content:center;padding:2rem}.game-item{margin:1rem}.game-item .title{margin-bottom:1rem}.player{width:300px;height:300px;border:1px solid #dcdfe6;border-radius:4px;box-shadow:0 2px 12px 0 rgb(0 0 0/10%);display:flex;align-items:center;justify-content:center;font-size:5rem}.human .choice{position:absolute}.controls{display:flex;flex-direction:column;align-items:center;justify-content:center}.controls .score{font-size:2rem;margin-bottom:1rem}.controls .countdown{font-size:3rem;font-weight:700}.controls button.play{display:inline-block;line-height:1;white-space:nowrap;cursor:pointer;background:#fff;border:1px solid #dcdfe6;color:#606266;-webkit-appearance:none;text-align:center;box-sizing:border-box;outline:none;margin:0;transition:.1s;font-weight:500;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;padding:12px 20px;font-size:14px;border-radius:4px}.video-background{position:relative;background-color:#666;transform:rotateY(180deg);-webkit-transform:rotateY(180deg);-moz-transform:rotateY(180deg)}.game-item .human-choice-image,.video-background{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.experiment-view-page .lab-header{height:30rem}.experiment-view-page .experiment-category{display:inline-block;line-height:1;white-space:nowrap;cursor:pointer;background:#fff;border:1px solid #dcdfe6;color:#606266;-webkit-appearance:none;text-align:center;box-sizing:border-box;outline:none;margin:0;transition:.1s;font-weight:500;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;padding:12px 20px;font-size:14px;border-radius:4px}.blog-wrapper{max-width:70rem;margin-left:auto;margin-right:auto}.blog-sidebar .blog-intro{font-size:1.1rem;margin-bottom:1rem;padding:0 5rem;text-align:center}.blog-sidebar{margin:2rem auto;max-width:45rem}.blog-sidebar .blog-header-wrapper{margin-bottom:1rem}.blog-sidebar .misc{display:flex;justify-content:space-around}@media screen and (max-width:575px){.blog-sidebar{margin:1rem 0}.blog-sidebar .blog-header-wrapper{margin-bottom:1rem}.blog-sidebar .blog-intro{padding:0 1rem}}.blog-grid{display:flex;justify-content:space-between;flex-wrap:wrap}.blog-grid.no-posts{justify-content:center}.blog-grid .no-posts-placeholder{padding:2rem;margin-bottom:32px;text-align:center}.blog-grid .blog-item{flex:0 1 30%;padding:10px}.blog-grid .blog-item .cover{height:200px}@media screen and (max-width:992px){.blog-grid .blog-item{flex:0 1 45%}}@media screen and (max-width:600px){.blog-grid .blog-item{flex:100% 1;flex-direction:column}.blog-grid .blog-item .cover{height:auto}}body{--thoughtsPageTitleColor:var(--red)}body.dark{--thoughtsPageTitleColor:var(--pink)}.thoughts-wrapper{max-width:70rem;margin-left:auto;margin-right:auto}.thoughts-wrapper .thought-sidebar{float:left;position:-webkit-sticky;position:-moz-sticky;position:-ms-sticky;position:-o-sticky;position:sticky;top:2rem;width:33.3%}@media (max-width:575.98px){.thoughts-wrapper .thought-sidebar{float:none;position:static;margin-bottom:40px;width:auto}}.thought-sidebar .navigation{text-align:center}.thought-sidebar .navigation a{text-transform:uppercase}.thought-sidebar .theme-switcher{margin-top:10px}.thoughts-wrapper .thoughts-list{float:left;padding-left:5rem;margin-right:0;margin-top:0;width:calc(66.6% - 5rem)}@media (max-width:1199.98px){.thoughts-wrapper .thoughts-list{padding-left:4rem;width:calc(66.6% - 4rem)}}@media (max-width:920px){.thoughts-wrapper .thoughts-list{padding-left:2rem;width:calc(66.6% - 2rem)}}@media (max-width:575.98px){.thoughts-wrapper .thoughts-list{float:none;display:block;padding-left:1rem;padding-right:1rem;width:auto}}@media (max-width:575.98px){.thought-sidebar .theme-switcher{margin-top:1rem}}.thoughts-title{font-family:Dancing Script,cursive;font-size:4rem;font-weight:700;margin-top:2.5rem;margin-bottom:2.5rem;text-align:center}.thoughts-title,.thoughts-title a{color:var(--thoughtsPageTitleColor)}body{--socialShareBorderHoverColor:var(--red)}body.dark{--socialShareBorderHoverColor:var(--pink)}.social-share-wrapper{font-size:1.5rem;text-align:center;margin-bottom:1.2rem}.social-share-wrapper h3{font-size:1.5rem}.social-share-wrapper .social-share-item{margin-right:.8rem;vertical-align:middle}.social-share-wrapper .social-share-item:hover{color:var(--socialShareBorderHoverColor)!important}.blogpost-view-page .blogpost-header{margin:1rem 0}.blogpost-view-page .blog-header-wrapper .logo{width:90px;height:90px}.blogpost-view-page .blog-header-wrapper .logo-img{width:5rem}.blogpost-view-page .blog-header-wrapper .name{font-size:1.5rem}.blogpost-view-page .blog-header-wrapper .blog-title{font-size:3rem;padding-left:1rem}.blogpost-view-page .thought-sidebar,.thought-wrapper{margin-left:auto;margin-right:auto;max-width:43rem}.blogpost-view-page .thoughts-title{font-size:3rem;margin-bottom:1rem}@media (max-width:575px){.blogpost-view-page .thoughts-title{font-size:2rem}}.blogpost-view-page .thought-divider{clear:both}.blogpost-view-page .thought-content{margin-top:2rem}.blogpost-view-page .thought-author-wrapper,.blogpost-view-page .thought-navigation-wrapper{margin-bottom:2rem}.blogpost-view-page hr{border:none;margin-bottom:2rem;text-align:center}.blogpost-view-page hr:before{letter-spacing:.6em;text-indent:.6em;content:"***"}body{--thoughtQuoteColor:var(--red)}body.dark{--thoughtQuoteColor:var(--pink)}.thought-view-page .thought-sidebar,.thought-wrapper{margin-left:auto;margin-right:auto;max-width:43rem}@media (max-width:767px){.thought-wrapper{display:block;padding-left:1rem;padding-right:1rem;width:auto}}.thought-view-page .thoughts-title{font-size:3rem;margin-bottom:1rem;margin-top:1rem}@media (max-width:575px){.thought-view-page .thoughts-title{font-size:2rem}}.thought-view-page .thought-divider{clear:both}.thought-view-page .thought-content{margin-top:2rem}.thought-view-page .thought-author-wrapper,.thought-view-page .thought-navigation-wrapper{margin-bottom:2rem}.thought-view-page hr{border:none;margin-bottom:2rem;text-align:center}.thought-view-page hr:before{letter-spacing:.6em;text-indent:.6em;content:"***"}</style><title data-react-helmet="true">K-Nearest Neighbors - Blog - Roman Glushko</title><meta data-react-helmet="true" name="description" content="K-Nearest Neighbors (a.k.a KNN) is one of the famous machine learning approaches. It&#x27;s simple, intuitive and useful tool to have in your…"/><meta data-react-helmet="true" name="keywords" content="machine learning"/><meta data-react-helmet="true" property="og:title" content="K-Nearest Neighbors - Blog"/><meta data-react-helmet="true" property="og:description" content="K-Nearest Neighbors (a.k.a KNN) is one of the famous machine learning approaches. It&#x27;s simple, intuitive and useful tool to have in your…"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@roma_glushko"/><meta data-react-helmet="true" name="twitter:title" content="K-Nearest Neighbors - Blog"/><meta data-react-helmet="true" name="twitter:description" content="K-Nearest Neighbors (a.k.a KNN) is one of the famous machine learning approaches. It&#x27;s simple, intuitive and useful tool to have in your…"/><meta data-react-helmet="true" property="og:image" content="https://www.romaglushko.com/static/0f12914900c0e39979afaf10caef31e6/35aef/ian-hutchinson-aYg3tYxT3MQ-unsplash-min.jpg"/><meta data-react-helmet="true" property="og:url" content="https://www.romaglushko.com/thoughts/power-of-no-action/"/><meta data-react-helmet="true" property="og:image" content="https://www.romaglushko.com/static/135bf8687801e11898cef0b1cdf6d2da/35aef/jens-lelie-u0vgcIOQG08-unsplash.jpg"/><meta data-react-helmet="true" property="og:url" content="https://www.romaglushko.com/thoughts/factors-affecting-decision-making/"/><meta data-react-helmet="true" property="og:image" content="https://www.romaglushko.com/static/2c20408c53b2b1479da1a7aec6b02f1c/35aef/neonbrand-KYxXMTpTzek-unsplash.jpg"/><meta data-react-helmet="true" property="og:url" content="https://www.romaglushko.com/thoughts/measure-and-improve/"/><meta data-react-helmet="true" property="og:image" content="https://www.romaglushko.com/static/eeab1483ba90500df5677946a42711d6/35aef/matthew-henry-uSdtHAt7E1Q-unsplash.jpg"/><meta data-react-helmet="true" property="og:url" content="https://www.romaglushko.com/thoughts/normal-life/"/><meta data-react-helmet="true" property="og:image" content="https://www.romaglushko.com/static/4d12dee394d1d37754f4a4d6d70696bb/476ef/jan-tinneberg-tVIv23vcuz4-unsplash.jpg"/><meta data-react-helmet="true" property="og:url" content="https://www.romaglushko.com/thoughts/just-ask/"/><meta data-react-helmet="true" property="og:image" content="https://www.romaglushko.com/static/a7cdbc9fc4b326866b495e2c9ac48ec1/35aef/elias-schupmann-4IubHMQ_0nA-unsplash.jpg"/><meta data-react-helmet="true" property="og:url" content="https://www.romaglushko.com/thoughts/disadvantages-are-everywhere/"/><meta data-react-helmet="true" property="og:image" content="https://www.romaglushko.com/static/7da40ca39ddeed59781bfeedce0ee5de/1b554/jake-givens-ocwmWiNAWGs-unsplash.jpg"/><meta data-react-helmet="true" property="og:url" content="https://www.romaglushko.com/thoughts/focus-on-solutions-not-on-problems/"/><meta data-react-helmet="true" property="og:image" content="https://www.romaglushko.com/static/dab856139d3de9754d8bc45de82e7772/35aef/pexels-ollie-craig-6398503-min.jpg"/><meta data-react-helmet="true" property="og:url" content="https://www.romaglushko.com/blog/k-nearest-neighbors"/><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","image":"/static/dab856139d3de9754d8bc45de82e7772/35aef/pexels-ollie-craig-6398503-min.jpg","headline":"K-Nearest Neighbors","dateCreated":"2021-04-05","dateModified":"2021-04-05","datePublished":"2021-04-05","inLanguage":"en-US","isFamilyFriendly":"true","author":{"@type":"Person","name":"Roman Glushko"},"publisher":{"@type":"Person","name":"Roman Glushko"},"mainEntityOfPage":"true","keywords":["machine learning"],"genre":["opinion","thoughts","life experience"],"articleSection":"Thoughts","articleBody":"\nK-Nearest Neighbors (a.k.a KNN) is one of the famous machine learning approaches. It's simple, intuitive and useful tool to have in your machine learning toolbox.\n\nKNN is instance-based learning algorithm. It doesn't make any assumption about dataset relations and uses provided samples in order to estimate new items.\n\n## Intuition\n\nAs old saying goes, you are who you surround yourself with. This idea even has mathematical interpretation. In N-dimensional space, points that are closer to each other are more similar, then ones that stand apart. This is the assumption that KNN algorithm makes. It tries to find K nearest known points or samples, also called \"neighbors\", to some unknown sample. Majority class of neighbors defines class of the unknown sample.\n\n![Nearest neighbors defines class of unknown sample](./img/k-nearest-neighbors.png \"Nearest neighbors defines class of unknown sample\")\n<div class=\"image-title\">Nearest neighbors defines class of unknown sample</div>\n\nTo came from this idea to implementation, we need to define how to find closest points.\n\n## Closest Points\n\nWe need to somehow measure distance between samples in order to find closest (hence similar) neighbors. There are turned out to be quite a few metrics we can use:\n\n- <a target=\"_blank\" rel=\"noopener nofollow\" href=\"https://en.wikipedia.org/wiki/Euclidean_distance\">Euclidean Distance</a> - straight-line distance between two points\n- <a target=\"_blank\" rel=\"noopener nofollow\" href=\"https://en.wikipedia.org/wiki/Taxicab_geometry\">Manhattan (City Block) Distance</a> - distance between two points traversed along one axis at the time at right angle\n- <a target=\"_blank\" rel=\"noopener nofollow\" href=\"https://en.wikipedia.org/wiki/Minkowski_distance\">Minkowski Distance</a> - Generalization of Euclidean and Manhattan distances\n- scikit-learn supports <a target=\"_blank\" rel=\"noopener nofollow\" href=\"https://scikit-learn.org/stable/modules/generated/sklearn.neighbors.DistanceMetric.html#sklearn.neighbors.DistanceMetric\">other metrics</a> as well\n\n![Different distance metrics and their boundaries](./img/distance-metrics.png?22 \"Different distance metrics and their boundaries\")\n<div class=\"image-title\">Distance metrics and their boundaries in 2D</div>\n\nEuclidean and Manhattan distances are two the most popular distance metrics:\n\n$$\nD(x, y)_{euclidean} = \\sqrt{\\sum_{i=1}^n (x_i-y_i)^2}\n$$\n\n$$\nD(x, y)_{manhattan} = \\sum_{i=1}^n |x_i-y_i|\n$$\n\nwhere $x=(x_1, x_2, ..., x_n)$ and $y=(y_1, y_2, ..., y_n)$ are two points in the N-dimensional space.\n\nMinkowski distance incorporates both Euclidean (when p is 2) and Manhattan (when p is 1) distances and gives additional degree of flexibility via p param:\n\n$$\nD(x, y)_{minkowski} = \\left(\\sum_{i=1}^n (|x_i-y_i|)^p\\right)^\\frac{1}{p}\n$$\n\nThese distance metrics are intuitive and fast to compute.\n\nHowever, all features or dimensions are treated the same way. This may be a issue if features have values in different scales. For example,\n\n- customer age value is normally between 18 and 100\n- annual income values lies between 20,000 and 200,000 (and sometimes goes far beyond)\n\nWhen calculating distance metrics, this leads to a situation when major part of similarity actually comes from large scale-value features (like annual income). As a result, the rest of the features will be almost neglected and won't be really taken into account during similarity checking.\n\n## Standardization\n\nIgnoring small-scale features in the similarity checking is rarely a desired effect. We would like rather to avoid it to get real neighbors of our sample.\n\nWe can try to rescale all features to the same range (0-1, for example). This will standardize or normalize features and let them have the same influence in the distance calculations.\n\n$$\nZ = \\frac{x - \\overline{x}}{S}\n$$\nwhere $x$ is sample feature value, $\\overline{x}$ is a feature mean and $S$ is a feature standard deviation.\n\nZ is a <a target=\"_blank\" rel=\"noopener nofollow\" href=\"https://en.wikipedia.org/wiki/Standard_score\">standard score (or z-score)</a> of the sample feature value. It's a dimensionless quantity and it shows how \"unusual\" or far sample feature value from the feature mean (which is usual or expected value).\n\nThough normalization changes values of features, it doesn't change feature distribution shape.\n\n## Dense Dataset\n\nWe assume that similar samples are close in the N-dimensional feature space. Is this always a case?\n\nTurned out that with growing number of dimensions (or features), number of samples should grow exponentially in order to keep the same density of sample points in the space. High-dimensional space contains far more actual space between points then our intuition may suggest.\n\nThis may lead to a situation when distance to neighbors across all feature axis are just slightly bigger then average distance between points. In sparse high-dimensional feature space we are loosing our notion of nearest points.\n\nThis is the reason why ratio of features to samples is important for KNN algorithm.\n\n## Neighborhood Size\n\nEffectiveness of applying KNN depends greatly on choosing appropriate size of neighborhood a.k.a **K** hyperparam. In turn this choice is determined by dataset. It's usual to see K in range from 1 to 20 (5 is default size in scikit-learn).\n\nSmaller value of K adds more sensitivity and variance. For noisy datasets this means that given a slightly adjusted dataset we may get a different neighbors.  \n\nIncreasing K hyperparam adds more bias to KNN results and smoother decision boundaries. If K param value is too big, KNN will loose its ability to find local structures in the dataset.\n\nIn general, neighborhood size is subject of hyperparam tunning. Final decision should be validated on separated validation dataset.\n\n## Applications\n\nYou may find KNN-based classificators and regressors which is a trivial application of KNN idea. Let's review a few less obvious applications where KNN shines even better.\n\n### Feature Engineering\n\nKNN is able to identify local structures in the dataset. This information is useful clue itself and may be used in classification/regression pipeline as an additional feature.\n### Neighbors in Embeddings\n\nKNN algorithm becomes useful when you have embeddings - samples projected into lower dimensional latent space. In embedding space distance means similarity and KNN can suggest similar items. This is especially useful for recommendation systems. In that case, nearest neighbor search can be optimized further by leveraging <a target=\"_blank\" rel=\"noopener nofollow\" href=\"https://en.wikipedia.org/wiki/Locality-sensitive_hashing\">locality-sensitive hashing</a>, for instance.\n\n### Anomaly Detection\n\nDistances to K nearest neighbors can be viewed as an estimation of local density. If distance is relatively large, this implies that density is low and sample is likely to be an outlier.\n\n## Conclusions\n\nI hope we shed a bit of light on theoretical aspects of K-Nearest Neighbor algorithm and proved that this pure idea is still useful after decades of being formulated.\n\n## References\n\n- <a target=\"_blank\" rel=\"noopener nofollow\" href=\"https://www.oreilly.com/library/view/practical-statistics-for/9781491952955/\">Practical Statistics for Data Scientists by Peter Bruce and Andrew Bruce</a>\n- <a target=\"_blank\" rel=\"noopener nofollow\" href=\"https://towardsdatascience.com/k-nearest-neighbors-and-the-curse-of-dimensionality-e39d10a6105d\">k-Nearest Neighbors and the Curse of Dimensionality</a>","wordcount":962}</script><script data-react-helmet="true" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async=""></script><link rel="icon" href="/favicon-32x32.png?v=58a31253e5b93c1d7e74e8a017ff47b3"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#ffffff"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=58a31253e5b93c1d7e74e8a017ff47b3"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=58a31253e5b93c1d7e74e8a017ff47b3"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=58a31253e5b93c1d7e74e8a017ff47b3"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=58a31253e5b93c1d7e74e8a017ff47b3"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=58a31253e5b93c1d7e74e8a017ff47b3"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=58a31253e5b93c1d7e74e8a017ff47b3"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=58a31253e5b93c1d7e74e8a017ff47b3"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=58a31253e5b93c1d7e74e8a017ff47b3"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/dancingscript/v16/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup8.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/ledger/v11/j8_q6-HK1L3if_sBnMrx.woff2"/><style>@font-face{font-family:Dancing Script;font-style:normal;font-weight:400;font-display:swap;src:url(/static/webfonts/s/dancingscript/v16/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup8.woff2) format("woff2")}@font-face{font-family:Dancing Script;font-style:normal;font-weight:400;font-display:swap;src:url(/static/webfonts/s/dancingscript/v16/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup6.woff) format("woff")}@font-face{font-family:Ledger;font-style:normal;font-weight:400;font-display:swap;src:url(/static/webfonts/s/ledger/v11/j8_q6-HK1L3if_sBnMrx.woff2) format("woff2")}@font-face{font-family:Ledger;font-style:normal;font-weight:400;font-display:swap;src:url(/static/webfonts/s/ledger/v11/j8_q6-HK1L3if_sBnMr3.woff) format("woff")}</style><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="canonical" href="https://www.romaglushko.com/blog/k-nearest-neighbors" data-baseprotocol="https:" data-basehost="www.romaglushko.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-dff688e60ae48bc89477.js"/><link as="script" rel="preload" href="/framework-68e90182ffbbad46751e.js"/><link as="script" rel="preload" href="/app-4e8879e941ca8a60b4fb.js"/><link as="script" rel="preload" href="/styles-8636a280cbc61d53ad10.js"/><link as="script" rel="preload" href="/cb1608f2-b70704051a8683d04d8a.js"/><link as="script" rel="preload" href="/a9a7754c-0455370b64c6ea364bd5.js"/><link as="script" rel="preload" href="/87d052a9eeeb66e36c9cfd8627566c7fe39204c1-fc5e8702ff121cbe2b20.js"/><link as="script" rel="preload" href="/a510f34a924899f38f7aa0d53277b2c9f4857ad7-4fa053496d60f301445d.js"/><link as="script" rel="preload" href="/4b3f07aa285d30e2f65efcdd43a224672a1ddedc-9dc96e3f94b724f3f152.js"/><link as="script" rel="preload" href="/4622c33586ad0108e870f951288ae6aa3beabfab-eb69d83fa29b4b34f9c3.js"/><link as="script" rel="preload" href="/component---src-templates-blog-template-js-29585b570fb92938a1c5.js"/><link as="fetch" rel="preload" href="/page-data/blog/k-nearest-neighbors/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div class="blogpost-header"><div class="view-page-header"><div class="view-page-header-wrapper"><div class="logo-wrapper"><div class="logo"><div class="logo-img gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQADAAAAAAAAAAAAAAAAAAQBAgP/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/2gAMAwEAAhADEAAAAa5sT1a5nMmooB//xAAbEAACAwADAAAAAAAAAAAAAAABAgADERIUIv/aAAgBAQABBQI3iLeyntCO4gYIcrm+7zyGz//EABURAQEAAAAAAAAAAAAAAAAAACBB/9oACAEDAQE/AYP/xAAXEQEAAwAAAAAAAAAAAAAAAAAAECFB/9oACAECAQE/AVsj/8QAHhAAAgEDBQAAAAAAAAAAAAAAAAECEBExEiEiI3H/2gAIAQEABj8CssnKTkjBpS3Z2RzS4vaf/8QAGxABAAIDAQEAAAAAAAAAAAAAAQARMUFhoSH/2gAIAQEAAT8hFs1Kn38NJic/stDHziK9wK12cGC7BFSxaf/aAAwDAQACAAMAAAAQZBd//8QAGBEBAQADAAAAAAAAAAAAAAAAAAERIUH/2gAIAQMBAT8QmDTqv//EABYRAQEBAAAAAAAAAAAAAAAAABEBIP/aAAgBAgEBPxCrg//EAB8QAQACAgICAwAAAAAAAAAAAAEAESExQVFhccHR4f/aAAgBAQABPxBhG3mB7/IibGGnZ0614mT4YrVCxHbhtlbwwVt0ucu3pPqDrcQHrMplsJgiGLn/2Q==" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/339a70ba95708d2e3aae7d14d7b17b18/b13df/photo.jpg 40w,
/static/339a70ba95708d2e3aae7d14d7b17b18/4e333/photo.jpg 80w,
/static/339a70ba95708d2e3aae7d14d7b17b18/e75b5/photo.jpg 160w,
/static/339a70ba95708d2e3aae7d14d7b17b18/40426/photo.jpg 240w,
/static/339a70ba95708d2e3aae7d14d7b17b18/c01e2/photo.jpg 320w,
/static/339a70ba95708d2e3aae7d14d7b17b18/f9913/photo.jpg 750w" sizes="(max-width: 160px) 100vw, 160px" /><img loading="lazy" sizes="(max-width: 160px) 100vw, 160px" srcset="/static/339a70ba95708d2e3aae7d14d7b17b18/b13df/photo.jpg 40w,
/static/339a70ba95708d2e3aae7d14d7b17b18/4e333/photo.jpg 80w,
/static/339a70ba95708d2e3aae7d14d7b17b18/e75b5/photo.jpg 160w,
/static/339a70ba95708d2e3aae7d14d7b17b18/40426/photo.jpg 240w,
/static/339a70ba95708d2e3aae7d14d7b17b18/c01e2/photo.jpg 320w,
/static/339a70ba95708d2e3aae7d14d7b17b18/f9913/photo.jpg 750w" src="/static/339a70ba95708d2e3aae7d14d7b17b18/e75b5/photo.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div><div class="name"><a href="/blog/">Roman <br/> Glushko</a></div></div><h1 class="blog-title"><a href="/"></a></h1></div></div><nav class="main-navigation"><ul><li><a title="Go Home" href="/">Home</a></li><li><a title="Go to Technical blog" href="/blog/">Blog</a></li><li><a title="Go to Thoughts" href="/thoughts/">Thoughts</a></li></ul></nav></div><main><article class="thought-wrapper"><header><div class="cover-filter"><div class="cover gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:75.05882352941177%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHPSDlRMP/EABkQAAMBAQEAAAAAAAAAAAAAAAABAhESMv/aAAgBAQABBQJVhVabLFI/PKP/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAaEAACAgMAAAAAAAAAAAAAAAAAARARMTJh/9oACAEBAAY/Asi4bNFluP/EABoQAAMBAQEBAAAAAAAAAAAAAAABESFRMUH/2gAIAQEAAT8hriSE2JGLrIFWuSltSCqvT4Ji2n//2gAMAwEAAgADAAAAEJPP/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8QR//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/EFf/xAAeEAEAAgICAwEAAAAAAAAAAAABABExQSFhUZGh0f/aAAgBAQABPxBCYeDInZqMsro8xv1B4AKafq4AURvXXMuBSw5x+y4K3W5//9k=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/dab856139d3de9754d8bc45de82e7772/809fc/pexels-ollie-craig-6398503-min.jpg 850w,
/static/dab856139d3de9754d8bc45de82e7772/4f4f6/pexels-ollie-craig-6398503-min.jpg 1700w,
/static/dab856139d3de9754d8bc45de82e7772/35aef/pexels-ollie-craig-6398503-min.jpg 3400w,
/static/dab856139d3de9754d8bc45de82e7772/9a201/pexels-ollie-craig-6398503-min.jpg 5100w,
/static/dab856139d3de9754d8bc45de82e7772/4c51e/pexels-ollie-craig-6398503-min.jpg 6800w,
/static/dab856139d3de9754d8bc45de82e7772/6b46a/pexels-ollie-craig-6398503-min.jpg 8000w" sizes="(max-width: 3400px) 100vw, 3400px" /><img loading="lazy" sizes="(max-width: 3400px) 100vw, 3400px" srcset="/static/dab856139d3de9754d8bc45de82e7772/809fc/pexels-ollie-craig-6398503-min.jpg 850w,
/static/dab856139d3de9754d8bc45de82e7772/4f4f6/pexels-ollie-craig-6398503-min.jpg 1700w,
/static/dab856139d3de9754d8bc45de82e7772/35aef/pexels-ollie-craig-6398503-min.jpg 3400w,
/static/dab856139d3de9754d8bc45de82e7772/9a201/pexels-ollie-craig-6398503-min.jpg 5100w,
/static/dab856139d3de9754d8bc45de82e7772/4c51e/pexels-ollie-craig-6398503-min.jpg 6800w,
/static/dab856139d3de9754d8bc45de82e7772/6b46a/pexels-ollie-craig-6398503-min.jpg 8000w" src="/static/dab856139d3de9754d8bc45de82e7772/35aef/pexels-ollie-craig-6398503-min.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div><h1>K-Nearest Neighbors</h1><div class="thought-details"><time class="thought-createdat" dateTime="2021-04-05">Apr 5, 2021</time><span> • </span><span class="thought-time2read">5<!-- --> min read</span><div class="theme-switcher"><div class="theme-switcher-toggler"><div class="theme-switcher-track"></div><div class="theme-switcher-thumb"></div><input type="checkbox" class="theme-switcher-input" aria-label="Switch between Dark and Light mode"/></div></div></div><ul class="blog-tags"><li>machine learning</li></ul></header><div class="thought-divider"></div><div class="content thought-content"><p>K-Nearest Neighbors (a.k.a KNN) is one of the famous machine learning approaches. It's simple, intuitive and useful tool to have in your machine learning toolbox.</p>
<p>KNN is instance-based learning algorithm. It doesn't make any assumption about dataset relations and uses provided samples in order to estimate new items.</p>
<h2>Intuition</h2>
<p>As old saying goes, you are who you surround yourself with. This idea even has mathematical interpretation. In N-dimensional space, points that are closer to each other are more similar, then ones that stand apart. This is the assumption that KNN algorithm makes. It tries to find K nearest known points or samples, also called "neighbors", to some unknown sample. Majority class of neighbors defines class of the unknown sample.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/dbb3359885e09bbbb66596868e221934/8ae3e/k-nearest-neighbors.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 74.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAACRUlEQVQ4y31Tz08TQRj9OrsgXaAV0ZY1VNNgf+yCkY3giWhiohGJXkEMAWOMSjwINGpJ2S3+iDGaqNEYD548eNaz/gccPHHw4FXReNBEI5qw45vtTNltipN8eW9+vXnffDNEsnHPriP3rBovdhIXSBSjGpYQhySf84lyggMZ+owamxKNHBCax8YC+jvl+AhiL0Xn/998Q1ML2xGDanxDOsZYBaIHgC3AEzzqzmISR3zPuh/wY+lA0WeBs+tq7Y/NK9gGMR3RAz6lhBTGJHZBcEDw91dzsfChp4jaHsOtFMvDqR0xVSeutWXaP8vFybfjvcHGj4yGvxPdFfw30TkInJFCLJyqIXEPChHck+9a/XzZLgj+aT63uL5YDKq5vs80RFH211LWlatfRBpwDNElhN4g2hGjiLIUvAzx85F0jKjzJaLWIaKOUIUvQTAtBDO4M70+4Vqa4kezRoLfHOjmE+jcfqDp7pJzZGZGOauuEDlfiXaAzza9L+7asjD28IZrOc/HTNP37JfcTSWo+irOPO9R3KvUiqJpu6eJkmtIE4LH4XAX8I56xEk4nYfTuOxPwunZgN/q716ds9kWNYuHUtYhmFWF2Y64wUOpi3bQbBMbtEgWz4aCfgpiHTFqFfxzQ5Wp+QO37yFOqvG/Fevht2sF50/FWvhSyl8M1rw7zJJs89upPx+IIjSBvjwAKWcgmOBPB1uejPZ0rlzIOi9Om+nX45neD1f6UmLN2kK+SSHKhToq7oceOniJV+3lxn2rs31NL/UfK03ecKA4ho0AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Nearest neighbors defines class of unknown sample"
        title="Nearest neighbors defines class of unknown sample"
        src="/static/dbb3359885e09bbbb66596868e221934/fcda8/k-nearest-neighbors.png"
        srcset="/static/dbb3359885e09bbbb66596868e221934/12f09/k-nearest-neighbors.png 148w,
/static/dbb3359885e09bbbb66596868e221934/e4a3f/k-nearest-neighbors.png 295w,
/static/dbb3359885e09bbbb66596868e221934/fcda8/k-nearest-neighbors.png 590w,
/static/dbb3359885e09bbbb66596868e221934/8ae3e/k-nearest-neighbors.png 756w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<div class="image-title">Nearest neighbors defines class of unknown sample</div>
<p>To came from this idea to implementation, we need to define how to find closest points.</p>
<h2>Closest Points</h2>
<p>We need to somehow measure distance between samples in order to find closest (hence similar) neighbors. There are turned out to be quite a few metrics we can use:</p>
<ul>
<li><a target="_blank" rel="noopener nofollow" href="https://en.wikipedia.org/wiki/Euclidean_distance">Euclidean Distance</a> - straight-line distance between two points</li>
<li><a target="_blank" rel="noopener nofollow" href="https://en.wikipedia.org/wiki/Taxicab_geometry">Manhattan (City Block) Distance</a> - distance between two points traversed along one axis at the time at right angle</li>
<li><a target="_blank" rel="noopener nofollow" href="https://en.wikipedia.org/wiki/Minkowski_distance">Minkowski Distance</a> - Generalization of Euclidean and Manhattan distances</li>
<li>scikit-learn supports <a target="_blank" rel="noopener nofollow" href="https://scikit-learn.org/stable/modules/generated/sklearn.neighbors.DistanceMetric.html#sklearn.neighbors.DistanceMetric">other metrics</a> as well</li>
</ul>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f8f6d672a5fb107dd1d6040218c5088d/966c1/distance-metrics.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 36.486486486486484%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABN0lEQVQoz01Ry07DMBCc9SNtkzohkBKakKIiEEI9wAEkxKGXiAsgoP0APoAzn8IH8iewaztqpWy8nt0Zz9oAoDQHfxyA1ZJoyQ3jWuqfhTZbl8lWRUwnJByQcHIrq+crBDHgbgzz5tp6aFJEdusuJMU67Y7X6TT3OBKyREby1UhPNq6tEDUIpL00kClLKBd6k8+n/cnzpXdsBJci8MLxnt7WrVuW3j37sCYl5Nf2K+vyfvbQipTViOoJOzqUTb88ax67aiQk4sl4LY+SVxb/HT2d3zT3DWyoQXqmwvm4WtSrmTPhoGgXYoeo5HUMzyAbYC1NhaJA5sFIToocxxw3cFTE/c8EWX83p/nEv8/uMGI3B6E5kEwU9I/39/MNl+y0KBZk5Bb+zrDvXNTnHA3CmLTHqSKnGPB/YCwRrPTRHkoAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Different distance metrics and their boundaries"
        title="Different distance metrics and their boundaries"
        src="/static/f8f6d672a5fb107dd1d6040218c5088d/fcda8/distance-metrics.png"
        srcset="/static/f8f6d672a5fb107dd1d6040218c5088d/12f09/distance-metrics.png 148w,
/static/f8f6d672a5fb107dd1d6040218c5088d/e4a3f/distance-metrics.png 295w,
/static/f8f6d672a5fb107dd1d6040218c5088d/fcda8/distance-metrics.png 590w,
/static/f8f6d672a5fb107dd1d6040218c5088d/efc66/distance-metrics.png 885w,
/static/f8f6d672a5fb107dd1d6040218c5088d/c83ae/distance-metrics.png 1180w,
/static/f8f6d672a5fb107dd1d6040218c5088d/966c1/distance-metrics.png 1694w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<div class="image-title">Distance metrics and their boundaries in 2D</div>
<p>Euclidean and Manhattan distances are two the most popular distance metrics:</p>
$$
D(x, y)_{euclidean} = \sqrt{\sum_{i=1}^n (x_i-y_i)^2}
$$
$$
D(x, y)_{manhattan} = \sum_{i=1}^n |x_i-y_i|
$$
<p>where $x=(x_1, x_2, ..., x_n)$ and $y=(y_1, y_2, ..., y_n)$ are two points in the N-dimensional space.</p>
<p>Minkowski distance incorporates both Euclidean (when p is 2) and Manhattan (when p is 1) distances and gives additional degree of flexibility via p param:</p>
$$
D(x, y)_{minkowski} = \left(\sum_{i=1}^n (|x_i-y_i|)^p\right)^\frac{1}{p}
$$
<p>These distance metrics are intuitive and fast to compute.</p>
<p>However, all features or dimensions are treated the same way. This may be a issue if features have values in different scales. For example,</p>
<ul>
<li>customer age value is normally between 18 and 100</li>
<li>annual income values lies between 20,000 and 200,000 (and sometimes goes far beyond)</li>
</ul>
<p>When calculating distance metrics, this leads to a situation when major part of similarity actually comes from large scale-value features (like annual income). As a result, the rest of the features will be almost neglected and won't be really taken into account during similarity checking.</p>
<h2>Standardization</h2>
<p>Ignoring small-scale features in the similarity checking is rarely a desired effect. We would like rather to avoid it to get real neighbors of our sample.</p>
<p>We can try to rescale all features to the same range (0-1, for example). This will standardize or normalize features and let them have the same influence in the distance calculations.</p>
$$
Z = \frac{x - \overline{x}}{S}
$$
<p>where $x$ is sample feature value, $\overline{x}$ is a feature mean and $S$ is a feature standard deviation.</p>
<p>Z is a <a target="_blank" rel="noopener nofollow" href="https://en.wikipedia.org/wiki/Standard_score">standard score (or z-score)</a> of the sample feature value. It's a dimensionless quantity and it shows how "unusual" or far sample feature value from the feature mean (which is usual or expected value).</p>
<p>Though normalization changes values of features, it doesn't change feature distribution shape.</p>
<h2>Dense Dataset</h2>
<p>We assume that similar samples are close in the N-dimensional feature space. Is this always a case?</p>
<p>Turned out that with growing number of dimensions (or features), number of samples should grow exponentially in order to keep the same density of sample points in the space. High-dimensional space contains far more actual space between points then our intuition may suggest.</p>
<p>This may lead to a situation when distance to neighbors across all feature axis are just slightly bigger then average distance between points. In sparse high-dimensional feature space we are loosing our notion of nearest points.</p>
<p>This is the reason why ratio of features to samples is important for KNN algorithm.</p>
<h2>Neighborhood Size</h2>
<p>Effectiveness of applying KNN depends greatly on choosing appropriate size of neighborhood a.k.a <strong>K</strong> hyperparam. In turn this choice is determined by dataset. It's usual to see K in range from 1 to 20 (5 is default size in scikit-learn).</p>
<p>Smaller value of K adds more sensitivity and variance. For noisy datasets this means that given a slightly adjusted dataset we may get a different neighbors.  </p>
<p>Increasing K hyperparam adds more bias to KNN results and smoother decision boundaries. If K param value is too big, KNN will loose its ability to find local structures in the dataset.</p>
<p>In general, neighborhood size is subject of hyperparam tunning. Final decision should be validated on separated validation dataset.</p>
<h2>Applications</h2>
<p>You may find KNN-based classificators and regressors which is a trivial application of KNN idea. Let's review a few less obvious applications where KNN shines even better.</p>
<h3>Feature Engineering</h3>
<p>KNN is able to identify local structures in the dataset. This information is useful clue itself and may be used in classification/regression pipeline as an additional feature.</p>
<h3>Neighbors in Embeddings</h3>
<p>KNN algorithm becomes useful when you have embeddings - samples projected into lower dimensional latent space. In embedding space distance means similarity and KNN can suggest similar items. This is especially useful for recommendation systems. In that case, nearest neighbor search can be optimized further by leveraging <a target="_blank" rel="noopener nofollow" href="https://en.wikipedia.org/wiki/Locality-sensitive_hashing">locality-sensitive hashing</a>, for instance.</p>
<h3>Anomaly Detection</h3>
<p>Distances to K nearest neighbors can be viewed as an estimation of local density. If distance is relatively large, this implies that density is low and sample is likely to be an outlier.</p>
<h2>Conclusions</h2>
<p>I hope we shed a bit of light on theoretical aspects of K-Nearest Neighbor algorithm and proved that this pure idea is still useful after decades of being formulated.</p>
<h2>References</h2>
<ul>
<li><a target="_blank" rel="noopener nofollow" href="https://www.oreilly.com/library/view/practical-statistics-for/9781491952955/">Practical Statistics for Data Scientists by Peter Bruce and Andrew Bruce</a></li>
<li><a target="_blank" rel="noopener nofollow" href="https://towardsdatascience.com/k-nearest-neighbors-and-the-curse-of-dimensionality-e39d10a6105d">k-Nearest Neighbors and the Curse of Dimensionality</a></li>
</ul></div></article><div class="social-share-wrapper"><h3>Share Your Love</h3><button aria-label="Share Via Facebook" title="Share Via Facebook" class="react-share__ShareButton social-share-item facebook" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook" class="svg-inline--fa fa-facebook fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"></path></svg></button><button aria-label="Share Via Twitter" class="react-share__ShareButton social-share-item twitter" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></button><button aria-label="Share Via LinkedIn" class="react-share__ShareButton social-share-item linkedin" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin-in" class="svg-inline--fa fa-linkedin-in fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg></button><button aria-label="Share Via Reddit" class="react-share__ShareButton social-share-item reddit" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="reddit" class="svg-inline--fa fa-reddit fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"></path></svg></button></div><div class="comment-box"></div></main><aside class="blogpost-sidebar"><div class="blog-navigation-wrapper"><h3>Read Other Posts</h3><nav class="blog-navigation"><div class="nav-links"><a class="all-posts" href="/blog">All Posts</a></div></nav></div></aside><footer><div class="footer-wrapper"><div class="social"><ul class="social-list"><li class="social-item social-twitter"><a href="https://twitter.com/roma_glushko" title="Roman Glushko on Twitter" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16 fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a></li><li class="social-item social-github"><a href="https://github.com/roma-glushko" title="Roman Glushko on Github" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github-alt" class="svg-inline--fa fa-github-alt fa-w-15 fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path fill="currentColor" d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path></svg></a></li><li class="social-item social-linkedin"><a href="https://www.linkedin.com/in/glushko-roman" title="Roman Glushko on LinkedIn" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin-in" class="svg-inline--fa fa-linkedin-in fa-w-14 fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg></a></li><li class="social-item social-email"><a href="mailto:roman.glushko.m@gmail.com" title="Roman Glushko&#x27;s Email"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="envelope" class="svg-inline--fa fa-envelope fa-w-16 fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path></svg></a></li><li class="social-item social-kaggle"><a href="https://www.kaggle.com/glushko" title="Roman Glushko on Kaggle" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="kaggle" class="svg-inline--fa fa-kaggle fa-w-10 fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M304.2 501.5L158.4 320.3 298.2 185c2.6-2.7 1.7-10.5-5.3-10.5h-69.2c-3.5 0-7 1.8-10.5 5.3L80.9 313.5V7.5q0-7.5-7.5-7.5H21.5Q14 0 14 7.5v497q0 7.5 7.5 7.5h51.9q7.5 0 7.5-7.5v-109l30.8-29.3 110.5 140.6c3 3.5 6.5 5.3 10.5 5.3h66.9q5.25 0 6-3z"></path></svg></a></li></ul></div><div class="copyright">Roman Glushko © 1996 - <!-- -->2021</div></div></footer><div class="mathjax"></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-148139633-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-148139633-1', 'auto', {});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/k-nearest-neighbors";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-4e8879e941ca8a60b4fb.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-f94ad01b5542d484ff45.js"],"component---src-pages-404-js":["/component---src-pages-404-js-b54fda9a570ee84c80bd.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-dba895234a8ec965d128.js"],"component---src-pages-index-js":["/component---src-pages-index-js-b8f77e8f3d480d5ff58c.js"],"component---src-pages-lab-js":["/component---src-pages-lab-js-68e24e2c29abae16ddfe.js"],"component---src-pages-lab-rockpaperscissor-index-js":["/component---src-pages-lab-rockpaperscissor-index-js-4b8146603379fa56b7c7.js"],"component---src-pages-lab-rockpaperscissor-rock-paper-scissor-game-js":["/component---src-pages-lab-rockpaperscissor-rock-paper-scissor-game-js-0b374564c0ee9fdd947b.js"],"component---src-pages-nn-design-js":["/component---src-pages-nn-design-js-e35a33f9dadf461bb060.js"],"component---src-pages-thoughts-js":["/component---src-pages-thoughts-js-c13e803ae2f8530f043b.js"],"component---src-templates-blog-template-js":["/component---src-templates-blog-template-js-29585b570fb92938a1c5.js"],"component---src-templates-thought-template-js":["/component---src-templates-thought-template-js-753a834d6442d519f93f.js"]};/*]]>*/</script><script src="/component---src-templates-blog-template-js-29585b570fb92938a1c5.js" async=""></script><script src="/4622c33586ad0108e870f951288ae6aa3beabfab-eb69d83fa29b4b34f9c3.js" async=""></script><script src="/4b3f07aa285d30e2f65efcdd43a224672a1ddedc-9dc96e3f94b724f3f152.js" async=""></script><script src="/a510f34a924899f38f7aa0d53277b2c9f4857ad7-4fa053496d60f301445d.js" async=""></script><script src="/87d052a9eeeb66e36c9cfd8627566c7fe39204c1-fc5e8702ff121cbe2b20.js" async=""></script><script src="/a9a7754c-0455370b64c6ea364bd5.js" async=""></script><script src="/cb1608f2-b70704051a8683d04d8a.js" async=""></script><script src="/styles-8636a280cbc61d53ad10.js" async=""></script><script src="/app-4e8879e941ca8a60b4fb.js" async=""></script><script src="/framework-68e90182ffbbad46751e.js" async=""></script><script src="/webpack-runtime-dff688e60ae48bc89477.js" async=""></script></body></html>