<!DOCTYPE html><html lang="en" class="blogpost-view-page"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="description" property="og:description" content="How I learned about hooks by upgrading this website"/><meta data-react-helmet="true" name="keywords" content="UI engineering,software engineering"/><meta data-react-helmet="true" name="author" content="@roma_glushko"/><meta data-react-helmet="true" property="og:title" content="React Hooks - Blog"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@roma_glushko"/><meta data-react-helmet="true" name="twitter:title" content="React Hooks - Blog"/><meta data-react-helmet="true" name="twitter:description" content="How I learned about hooks by upgrading this website"/><meta data-react-helmet="true" name="image" property="og:image" content="https://www.romaglushko.com/static/edf0f8ecfce77027098cea697c787a16/3832f/agata-create-2122jrt79G8-unsplash.jpg"/><meta data-react-helmet="true" name="twitter:image" content="https://www.romaglushko.com/static/edf0f8ecfce77027098cea697c787a16/3832f/agata-create-2122jrt79G8-unsplash.jpg"/><meta data-react-helmet="true" property="og:url" content="https://www.romaglushko.com/blog/react-hooks/"/><meta name="theme-color" content="#ffffff"/><link rel="stylesheet" href="/styles.99dfbaa2b6a4dc2df4ae.css"/><title data-react-helmet="true">React Hooks - Blog by Roman Glushko</title><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","image":"/static/edf0f8ecfce77027098cea697c787a16/3832f/agata-create-2122jrt79G8-unsplash.jpg","headline":"React Hooks","dateCreated":"2022-07-01","datePublished":"2022-07-01","dateModified":"2022-07-01","inLanguage":"en-US","isFamilyFriendly":true,"isAccessibleForFree":true,"author":{"@type":"Person","name":"Roman Glushko","url":"https://www.romaglushko.com"},"publisher":{"@type":"Organization","name":"Roman Glushko's Website"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.romaglushko.com/blog/react-hooks/"},"keywords":["UI engineering","software engineering"],"genre":["machine learning","software engineering","science","deep learning","statistics"],"articleSection":"Technical Blog","articleBody":"\nI created this website a while ago.\nSince then, I have missed a few major updates to [GatsbyJS](https://www.gatsbyjs.com/), a framework that powers my blog,\ndozens of upgrades to plugins I have been using,\nand large adoption of a brand-new approach in React (or should I say the whole UI/frontend?) world, [React hooks](https://reactjs.org/docs/hooks-intro.html).\n\nSo the time has come, and I have finally decided to upgrade the blog.\nIn the course of the upgrade, I have tried to figure out what this hype around React hooks is all about.\n\n## Pre-Hooks Era\n\nIn the beginning, there were two types of components that React offered you to build your UI:\n\n- Pure Function Components\n- Class-based Components\n\nPure function components were great. They provided clean and boilerplate-free way of rendering some JSX templates:\n\n```tsx\nimport * as React from \"react\"\n\nconst Footer = (): JSX.Element => {\n  return (\n    <footer>\n      <div className=\"copyright\">\n        Roman Glushko Â© 1996 - {new Date().getFullYear()}\n      </div>\n    </footer>\n  )\n}\n\nexport default Footer\n```\n\nHowever, they were a bit limited.\nSince functions are stateless, but a lot of UI elements are actually stateful, pure function components lacked a way to\nimplement some local state.\n\nAnother problem was that functional components were merely capable of just simple rendering of templates.\nThey were pretty stubborn in terms of letting you plug into the component lifecycle.\nNo ways to execute something when the component was about to unmount from the virtual DOM, for example.\n\nOn the other hand, there were class-based components.\n\nClass-based components were capable of storing some local states and running different logic on different lifecycle events.\nSo they seemed like a way to go. However, class components were quite verbose. Just take a look at the following example:\n\n```tsx\nimport React, { Component } from \"react\"\n\ninterface PokemonData {\n  imageUrl: string\n  type: string\n  height: number\n  weight: number\n}\n\ninterface Props {\n  name: string\n}\n\ninterface State {\n  name: string\n  data?: PokemonData\n}\n\nexport default class PokemonInfo extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props)\n\n    const { name } = props\n\n    this.state = { name }\n  }\n\n  async fetchData(name: string): Promise<PokemonData> {\n    // we need this logic in two lifecycle events: componentDidMount and componentDidUpdate\n    return fetch(`https://pokeapi.co/api/v2/pokemon/${name}/`)\n      .then((res) => res.json())\n      .then((pokeData) => {\n        return {\n          imageUrl: pokeData?.sprites?.front_default,\n          type: pokeData?.types[0].type?.name,\n          weight: pokeData?.weight,\n          height: pokeData?.height,\n        } as PokemonData\n      })\n  }\n\n  async componentDidMount() {\n    const { name } = this.state\n\n    const pokemon: PokemonData = await this.fetchData(name)\n\n    this.setState({\n      data: pokemon,\n    })\n  }\n\n  async componentDidUpdate(prevProps: Props) {\n    // if name gets changed, refetch all pokemon data\n    const { name } = this.state\n\n    if (name !== prevProps.name) {\n      const pokemon: PokemonData = await this.fetchData(name)\n\n      this.setState({\n        data: pokemon,\n      })\n    }\n  }\n\n  render() {\n    const { name, data } = this.state\n\n    if (!data) {\n      return <div className={`pokemon-data loading`}>Loading..</div>\n    }\n\n    const { imageUrl, type, weight, height } = data\n\n    return (\n      <div className={`pokemon-data`}>\n        <img src={imageUrl} alt={name} />\n        <ul>\n          <li>Type: {type}</li>\n          <li>Weight: {weight}</li>\n          <li>Height: {height}</li>\n        </ul>\n      </div>\n    )\n  }\n}\n```\n\n`PokemonInfo` class is looong, but we have not coded anything sophisticated there.\nEssentially, we have introduced a local state and fetched its value from some API.\n\nThis component also depends on the external `name` property, so we wanted to update the component output in case that value changes.\nTo achieve that, we needed to implement both `componentDidMount` and `componentDidUpdate`. In order not to duplicate logic (because those methods would be almost the same), we additionally created the `fetchData()` method.\n\nDespite me using TypeScript here, it took us quite a bit of space and chars to code that piece.\nClass-based components were not as concise as we would like them to be.\n\n## Invention of Hooks\n\nSo we came up with two-component types. Both have approximately opposite pros and cons.\nI wish we could combine the best of each world, right?\n\nThis is exactly what the React team did with Hooks.\n\nRoughly, hooks allow pure JS functions to have a state and side effects.\n\n`video: title: \"Pure Functions have state in React\": https://media.giphy.com/media/rN2EZm3CSXHY1QoGrq/giphy.mp4`\n\nYeah, you got me. State and side effects in pure functions.\nThis may sound like the worst nightmare for some functional programmers, but it turned out to play very well in the UI world.\n\nLet's see how hooks will transform the code below:\n\n```tsx\nimport React, { useEffect, useState } from \"react\"\n\ninterface PokemonData {\n  imageUrl: string\n  type: string\n  height: number\n  weight: number\n}\n\ninterface Props {\n  name: string\n}\n\nconst fetchPokemonData = (name: string): Promise<PokemonData> => {\n  return fetch(`https://pokeapi.co/api/v2/pokemon/${name}/`)\n    .then((res) => res.json())\n    .then((pokeData) => {\n      return {\n        imageUrl: pokeData?.sprites?.front_default,\n        type: pokeData?.types[0].type?.name,\n        weight: pokeData?.weight,\n        height: pokeData?.height,\n      } as PokemonData\n    })\n}\n\nexport const PokemonInfo = (props: Props) => {\n  // state initialization\n  const [name, _] = useState<string>(props.name)\n  const [data, setPokemonData] = useState<undefined | PokemonData>(undefined)\n\n  useEffect(() => {\n    // a place for all function's side effects like external requests, websocket inits, timer setup, etc\n\n    const fetchPokemon = async (name: string) => {\n      setPokemonData(await fetchPokemonData(name))\n    }\n\n    fetchPokemon(name)\n  }, [name])\n\n  // template rendering as simple as it has been in the pure function components before\n\n  if (!data) {\n    return <div className={`pokemon-data loading`}>Loading..</div>\n  }\n\n  const { imageUrl, type, weight, height } = data\n\n  return (\n    <div className={`pokemon-data`}>\n      <img src={imageUrl} alt={name} />\n      <ul>\n        <li>Type: {type}</li>\n        <li>Weight: {weight}</li>\n        <li>Height: {height}</li>\n      </ul>\n    </div>\n  )\n}\n```\n\nWhat has changed?\n\nWith hooks, our refactored the `PokemonInfo` component consists of three parts now:\n\n- state setup\n- side effect setup\n- template rendering\n\nYou will see that a lot of hook-powered components look more-less the same way.\n\nThe state looks like a local variable and only the `useState()` function\nmakes it \"persisted\" magically across function's reruns/rerenders.\n\nThe lifecycle methods that spread effects across multiple functions\nhave been squeezed into one effect function that may have dependencies on a state.\n\nFinally, the rendering part remains as simple and clear as it had been in the pure function components before.\n\nOverall these changes have made the `PokemonInfo` component cleaner and its structure is now more predictable and standard.\nThat's a great sign that our component and [its intent](/blog/communicate-through-code/) are going to be well understood by other engineers.\n\n## Declarative vs Imperative\n\nIt's not a coincidence I paid your attention to the new `PokemonInfo` structure.\nIf you compare it to the previous one, you may find out that it became more declarative.\nPreviously, it was us who was deliberately changing the internal state, invoking it in the right lifecycle event.\nEssentially, we were telling React how to do things for us.\n\nHooks have shifted that paradigm to a more declarative one.\nThey allow us to tell React what we want to get and let it figure out the rest.\n\nThis is a great property as it enables compilers to have more control over rerendering optimizations for us and instead of us.\n\n## Conclusions\n\nFor me, this short story is a good example\nthat we need to be always contentious about what kind of problem we want to solve and\nnever be frightening of breaking some existing rules or best practices.\nChances are they were not designed to be applied in your context anyway.\n\nAnd that is how revolutions happen.\n\n## References\n\n- [[ReactJs] Introducing Hooks](https://reactjs.org/docs/hooks-intro.html)\n- [[ReactJs] Hooks at a Glance](https://reactjs.org/docs/hooks-overview.html)\n","wordcount":761}</script><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://www.romaglushko.com/"},{"@type":"ListItem","position":2,"name":"Blog","item":"https://www.romaglushko.com/blog/"},{"@type":"ListItem","position":3,"name":"React Hooks","item":"https://www.romaglushko.com/blog/react-hooks/"}]}</script><script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>            
              (adsbygoogle = window.adsbygoogle || []).push({
                google_ad_client: "ca-pub-5432076888930650",
                enable_page_level_ads: true
              });
          </script><link crossorigin="" href="https://utteranc.es" rel="preconnect"/><link crossorigin="" href="https://www.google-analytics.com" rel="preconnect"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="icon" href="/favicon-32x32.png?v=edefe9cf4eecd3adaa05cc9b91928417" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=edefe9cf4eecd3adaa05cc9b91928417"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=edefe9cf4eecd3adaa05cc9b91928417"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=edefe9cf4eecd3adaa05cc9b91928417"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=edefe9cf4eecd3adaa05cc9b91928417"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=edefe9cf4eecd3adaa05cc9b91928417"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=edefe9cf4eecd3adaa05cc9b91928417"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=edefe9cf4eecd3adaa05cc9b91928417"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=edefe9cf4eecd3adaa05cc9b91928417"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/dancingscript/v24/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup8.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/dancingscript/v24/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03Sup8.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/ledger/v16/j8_q6-HK1L3if_sBnMrx.woff2"/><style>@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:400;src:url(/static/webfonts/s/dancingscript/v24/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup8.woff2) format("woff2")}@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:700;src:url(/static/webfonts/s/dancingscript/v24/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03Sup8.woff2) format("woff2")}@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:400;src:url(/static/webfonts/s/dancingscript/v24/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup6.woff) format("woff")}@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:700;src:url(/static/webfonts/s/dancingscript/v24/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03Sup6.woff) format("woff")}@font-face{font-display:swap;font-family:Ledger;font-style:normal;font-weight:400;src:url(/static/webfonts/s/ledger/v16/j8_q6-HK1L3if_sBnMrx.woff2) format("woff2")}@font-face{font-display:swap;font-family:Ledger;font-style:normal;font-weight:400;src:url(/static/webfonts/s/ledger/v16/j8_q6-HK1L3if_sBnMr3.woff) format("woff")}</style><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link rel="stylesheet"/><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="canonical" href="https://www.romaglushko.com/blog/react-hooks/" data-baseprotocol="https:" data-basehost="www.romaglushko.com"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div class="blogpost-header"><div class="view-page-header"><div class="view-page-header-wrapper"><div class="logo-wrapper"><div class="logo"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained logo-img"><div style="max-width:150px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;150&#x27; width=&#x27;150&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#b8b8b8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/avif" data-srcset="/static/7d8b62b999b9a2fb28b8ab360138da37/9c77f/photo3.avif 38w,/static/7d8b62b999b9a2fb28b8ab360138da37/5fe85/photo3.avif 75w,/static/7d8b62b999b9a2fb28b8ab360138da37/7f03a/photo3.avif 150w,/static/7d8b62b999b9a2fb28b8ab360138da37/2caaf/photo3.avif 300w" sizes="(min-width: 150px) 150px, 100vw"/><source type="image/webp" data-srcset="/static/7d8b62b999b9a2fb28b8ab360138da37/43b28/photo3.webp 38w,/static/7d8b62b999b9a2fb28b8ab360138da37/24fe2/photo3.webp 75w,/static/7d8b62b999b9a2fb28b8ab360138da37/6281c/photo3.webp 150w,/static/7d8b62b999b9a2fb28b8ab360138da37/0af71/photo3.webp 300w" sizes="(min-width: 150px) 150px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 150px) 150px, 100vw" decoding="async" loading="lazy" data-src="/static/7d8b62b999b9a2fb28b8ab360138da37/d0f21/photo3.jpg" data-srcset="/static/7d8b62b999b9a2fb28b8ab360138da37/ef544/photo3.jpg 38w,/static/7d8b62b999b9a2fb28b8ab360138da37/d88db/photo3.jpg 75w,/static/7d8b62b999b9a2fb28b8ab360138da37/d0f21/photo3.jpg 150w,/static/7d8b62b999b9a2fb28b8ab360138da37/4b047/photo3.jpg 300w" alt="Roman Glushko"/></picture><noscript><picture><source type="image/avif" srcSet="/static/7d8b62b999b9a2fb28b8ab360138da37/9c77f/photo3.avif 38w,/static/7d8b62b999b9a2fb28b8ab360138da37/5fe85/photo3.avif 75w,/static/7d8b62b999b9a2fb28b8ab360138da37/7f03a/photo3.avif 150w,/static/7d8b62b999b9a2fb28b8ab360138da37/2caaf/photo3.avif 300w" sizes="(min-width: 150px) 150px, 100vw"/><source type="image/webp" srcSet="/static/7d8b62b999b9a2fb28b8ab360138da37/43b28/photo3.webp 38w,/static/7d8b62b999b9a2fb28b8ab360138da37/24fe2/photo3.webp 75w,/static/7d8b62b999b9a2fb28b8ab360138da37/6281c/photo3.webp 150w,/static/7d8b62b999b9a2fb28b8ab360138da37/0af71/photo3.webp 300w" sizes="(min-width: 150px) 150px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 150px) 150px, 100vw" decoding="async" loading="lazy" src="/static/7d8b62b999b9a2fb28b8ab360138da37/d0f21/photo3.jpg" srcSet="/static/7d8b62b999b9a2fb28b8ab360138da37/ef544/photo3.jpg 38w,/static/7d8b62b999b9a2fb28b8ab360138da37/d88db/photo3.jpg 75w,/static/7d8b62b999b9a2fb28b8ab360138da37/d0f21/photo3.jpg 150w,/static/7d8b62b999b9a2fb28b8ab360138da37/4b047/photo3.jpg 300w" alt="Roman Glushko"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div><div class="name"><a href="/blog/" title="back to blog">Roman <br/> Glushko</a></div></div><h2 class="blog-title"><a href="/blog/" title="back to the homepage">Blog</a></h2></div></div><nav class="main-navigation"><ul><li><a rel="home" title="Go Home" href="/">Home</a></li><li><a title="Go to my Technical Blog" href="/blog/">Blog</a></li><li><a title="Go to my Thoughts" href="/thoughts/">Thoughts</a></li><li><a title="Go to my Lab" href="/lab/">Lab</a></li><li><a title="Review My CVs" href="/cv/machine-learning-engineer/">CV</a></li></ul></nav></div><main><article class="blog-wrapper"><header><figure class="cover"><div class="cover-filter"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper cover cover-image"><div aria-hidden="true" style="padding-top:75%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAQBAwUG/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdipRKOhIK//xAAZEAADAAMAAAAAAAAAAAAAAAABAgMABBL/2gAIAQEAAQUCZuQtejm25WOnUm2f/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAQUAAAAAAAAAAAAAAAAAAAEQESFR/9oACAEBAAY/ApKRq0hcb//EABoQAQEAAgMAAAAAAAAAAAAAAAEAETEQIVH/2gAIAQEAAT8h15SPGye8Zku0Ek0NG//aAAwDAQACAAMAAAAQ/wDP/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8Qp//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/EIf/xAAbEAEBAQACAwAAAAAAAAAAAAABEQAxYRCBwf/aAAgBAQABPxAEZBWbhRPTvwpQEH3fmdqogcEbqG//2Q==" alt=""/><picture><source type="image/webp" data-srcset="/static/edf0f8ecfce77027098cea697c787a16/66907/agata-create-2122jrt79G8-unsplash.webp 750w,/static/edf0f8ecfce77027098cea697c787a16/27610/agata-create-2122jrt79G8-unsplash.webp 1080w,/static/edf0f8ecfce77027098cea697c787a16/90004/agata-create-2122jrt79G8-unsplash.webp 1366w,/static/edf0f8ecfce77027098cea697c787a16/e4c47/agata-create-2122jrt79G8-unsplash.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/edf0f8ecfce77027098cea697c787a16/3832f/agata-create-2122jrt79G8-unsplash.jpg" data-srcset="/static/edf0f8ecfce77027098cea697c787a16/6c918/agata-create-2122jrt79G8-unsplash.jpg 750w,/static/edf0f8ecfce77027098cea697c787a16/49438/agata-create-2122jrt79G8-unsplash.jpg 1080w,/static/edf0f8ecfce77027098cea697c787a16/f4534/agata-create-2122jrt79G8-unsplash.jpg 1366w,/static/edf0f8ecfce77027098cea697c787a16/3832f/agata-create-2122jrt79G8-unsplash.jpg 1920w" alt="React Hooks"/></picture><noscript><picture><source type="image/webp" srcSet="/static/edf0f8ecfce77027098cea697c787a16/66907/agata-create-2122jrt79G8-unsplash.webp 750w,/static/edf0f8ecfce77027098cea697c787a16/27610/agata-create-2122jrt79G8-unsplash.webp 1080w,/static/edf0f8ecfce77027098cea697c787a16/90004/agata-create-2122jrt79G8-unsplash.webp 1366w,/static/edf0f8ecfce77027098cea697c787a16/e4c47/agata-create-2122jrt79G8-unsplash.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/edf0f8ecfce77027098cea697c787a16/3832f/agata-create-2122jrt79G8-unsplash.jpg" srcSet="/static/edf0f8ecfce77027098cea697c787a16/6c918/agata-create-2122jrt79G8-unsplash.jpg 750w,/static/edf0f8ecfce77027098cea697c787a16/49438/agata-create-2122jrt79G8-unsplash.jpg 1080w,/static/edf0f8ecfce77027098cea697c787a16/f4534/agata-create-2122jrt79G8-unsplash.jpg 1366w,/static/edf0f8ecfce77027098cea697c787a16/3832f/agata-create-2122jrt79G8-unsplash.jpg 1920w" alt="React Hooks"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div><figcaption data-nosnippet="" class="image-title">Photo by <a href="https://unsplash.com/@agatacreate">Agata Create</a> on <a href="https://unsplash.com/@agatacreate">Unsplash</a></figcaption></figure><h1>React Hooks</h1><div data-nosnippet="" class="blog-details"><time class="blog-createdat" dateTime="2022-07-01">Jul 1, 2022</time><span> â¢ </span><span class="blog-time2read">6<!-- -->mins<!-- --> read</span><div class="theme-switcher"><div class="theme-switcher-toggler"><div class="theme-switcher-track"></div><div class="theme-switcher-thumb"></div><input class="theme-switcher-input" type="checkbox" readonly="" aria-label="Switch between Dark and Light modes"/></div></div></div><ul data-nosnippet="" class="blog-tags"><li>UI engineering</li><li>software engineering</li></ul></header><div class="blog-divider"></div><div id="intro"></div><div class="content-wrapper"><div data-nosnippet="" class="blog-content-nav-wrapper"><ul class="blog-content-nav"><h2>Content</h2><li class=""><a href="#intro">Intro</a></li></ul></div><div class="content blog-content"><p>I created this website a while ago.
Since then, I have missed a few major updates to <a href="https://www.gatsbyjs.com/" target="_blank" rel="noopener noreferrer">GatsbyJS</a>, a framework that powers my blog,
dozens of upgrades to plugins I have been using,
and large adoption of a brand-new approach in React (or should I say the whole UI/frontend?) world, <a href="https://reactjs.org/docs/hooks-intro.html" target="_blank" rel="noopener noreferrer">React hooks</a>.</p>
<p>So the time has come, and I have finally decided to upgrade the blog.
In the course of the upgrade, I have tried to figure out what this hype around React hooks is all about.</p>
<h2 id="pre-hooks-era" style="position:relative;"><a href="#pre-hooks-era" aria-label="pre hooks era permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Pre-Hooks Era</h2>
<p>In the beginning, there were two types of components that React offered you to build your UI:</p>
<ul>
<li>Pure Function Components</li>
<li>Class-based Components</li>
</ul>
<p>Pure function components were great. They provided clean and boilerplate-free way of rendering some JSX templates:</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">"react"</span>

<span class="token keyword">const</span> Footer <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">JSX</span><span class="token punctuation">.</span>Element <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>copyright<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        Roman Glushko Â© 1996 - </span><span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Footer</code></pre></div>
<p>However, they were a bit limited.
Since functions are stateless, but a lot of UI elements are actually stateful, pure function components lacked a way to
implement some local state.</p>
<p>Another problem was that functional components were merely capable of just simple rendering of templates.
They were pretty stubborn in terms of letting you plug into the component lifecycle.
No ways to execute something when the component was about to unmount from the virtual DOM, for example.</p>
<p>On the other hand, there were class-based components.</p>
<p>Class-based components were capable of storing some local states and running different logic on different lifecycle events.
So they seemed like a way to go. However, class components were quite verbose. Just take a look at the following example:</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span>

<span class="token keyword">interface</span> <span class="token class-name">PokemonData</span> <span class="token punctuation">{</span>
  imageUrl<span class="token operator">:</span> <span class="token builtin">string</span>
  type<span class="token operator">:</span> <span class="token builtin">string</span>
  height<span class="token operator">:</span> <span class="token builtin">number</span>
  weight<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">State</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  data<span class="token operator">?</span><span class="token operator">:</span> PokemonData
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">PokemonInfo</span> <span class="token keyword">extends</span> <span class="token class-name">Component<span class="token operator">&lt;</span>Props<span class="token punctuation">,</span> State<span class="token operator">></span></span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token operator">:</span> Props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>

    <span class="token keyword">const</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> props

    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">async</span> <span class="token function">fetchData</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>PokemonData<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token comment">// we need this logic in two lifecycle events: componentDidMount and componentDidUpdate</span>
    <span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://pokeapi.co/api/v2/pokemon/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=></span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>pokeData<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          imageUrl<span class="token operator">:</span> pokeData<span class="token operator">?.</span>sprites<span class="token operator">?.</span>front_default<span class="token punctuation">,</span>
          type<span class="token operator">:</span> pokeData<span class="token operator">?.</span>types<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>type<span class="token operator">?.</span>name<span class="token punctuation">,</span>
          weight<span class="token operator">:</span> pokeData<span class="token operator">?.</span>weight<span class="token punctuation">,</span>
          height<span class="token operator">:</span> pokeData<span class="token operator">?.</span>height<span class="token punctuation">,</span>
        <span class="token punctuation">}</span> <span class="token keyword">as</span> PokemonData
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">async</span> <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state

    <span class="token keyword">const</span> pokemon<span class="token operator">:</span> PokemonData <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fetchData</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      data<span class="token operator">:</span> pokemon<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">async</span> <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span>prevProps<span class="token operator">:</span> Props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// if name gets changed, refetch all pokemon data</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state

    <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">!==</span> prevProps<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> pokemon<span class="token operator">:</span> PokemonData <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fetchData</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>

      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> pokemon<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">pokemon-data loading</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Loading..</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> <span class="token punctuation">{</span> imageUrl<span class="token punctuation">,</span> type<span class="token punctuation">,</span> weight<span class="token punctuation">,</span> height <span class="token punctuation">}</span> <span class="token operator">=</span> data

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">pokemon-data</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>imageUrl<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">Type: </span><span class="token punctuation">{</span>type<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">Weight: </span><span class="token punctuation">{</span>weight<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">Height: </span><span class="token punctuation">{</span>height<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><code class="language-text">PokemonInfo</code> class is looong, but we have not coded anything sophisticated there.
Essentially, we have introduced a local state and fetched its value from some API.</p>
<p>This component also depends on the external <code class="language-text">name</code> property, so we wanted to update the component output in case that value changes.
To achieve that, we needed to implement both <code class="language-text">componentDidMount</code> and <code class="language-text">componentDidUpdate</code>. In order not to duplicate logic (because those methods would be almost the same), we additionally created the <code class="language-text">fetchData()</code> method.</p>
<p>Despite me using TypeScript here, it took us quite a bit of space and chars to code that piece.
Class-based components were not as concise as we would like them to be.</p>
<h2 id="invention-of-hooks" style="position:relative;"><a href="#invention-of-hooks" aria-label="invention of hooks permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Invention of Hooks</h2>
<p>So we came up with two-component types. Both have approximately opposite pros and cons.
I wish we could combine the best of each world, right?</p>
<p>This is exactly what the React team did with Hooks.</p>
<p>Roughly, hooks allow pure JS functions to have a state and side effects.</p>
<p>
		<video
			src=https://media.giphy.com/media/rN2EZm3CSXHY1QoGrq/giphy.mp4
			width="100%"
			height="auto"
			preload="auto"
			muted="true"
			title="Pure Functions have state in React"
			autoplay
			playsinline
			controls
			loop
		></video>
	</p>
<p>Yeah, you got me. State and side effects in pure functions.
This may sound like the worst nightmare for some functional programmers, but it turned out to play very well in the UI world.</p>
<p>Let's see how hooks will transform the code below:</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span>

<span class="token keyword">interface</span> <span class="token class-name">PokemonData</span> <span class="token punctuation">{</span>
  imageUrl<span class="token operator">:</span> <span class="token builtin">string</span>
  type<span class="token operator">:</span> <span class="token builtin">string</span>
  height<span class="token operator">:</span> <span class="token builtin">number</span>
  weight<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> fetchPokemonData <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>PokemonData<span class="token operator">></span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://pokeapi.co/api/v2/pokemon/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=></span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>pokeData<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        imageUrl<span class="token operator">:</span> pokeData<span class="token operator">?.</span>sprites<span class="token operator">?.</span>front_default<span class="token punctuation">,</span>
        type<span class="token operator">:</span> pokeData<span class="token operator">?.</span>types<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>type<span class="token operator">?.</span>name<span class="token punctuation">,</span>
        weight<span class="token operator">:</span> pokeData<span class="token operator">?.</span>weight<span class="token punctuation">,</span>
        height<span class="token operator">:</span> pokeData<span class="token operator">?.</span>height<span class="token punctuation">,</span>
      <span class="token punctuation">}</span> <span class="token keyword">as</span> PokemonData
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">PokemonInfo</span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token operator">:</span> Props<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// state initialization</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> _<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>data<span class="token punctuation">,</span> setPokemonData<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">undefined</span> <span class="token operator">|</span> PokemonData<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// a place for all function's side effects like external requests, websocket inits, timer setup, etc</span>

    <span class="token keyword">const</span> <span class="token function-variable function">fetchPokemon</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">setPokemonData</span><span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">fetchPokemonData</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token function">fetchPokemon</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token comment">// template rendering as simple as it has been in the pure function components before</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">pokemon-data loading</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Loading..</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> <span class="token punctuation">{</span> imageUrl<span class="token punctuation">,</span> type<span class="token punctuation">,</span> weight<span class="token punctuation">,</span> height <span class="token punctuation">}</span> <span class="token operator">=</span> data

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">pokemon-data</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>imageUrl<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">Type: </span><span class="token punctuation">{</span>type<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">Weight: </span><span class="token punctuation">{</span>weight<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">Height: </span><span class="token punctuation">{</span>height<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>What has changed?</p>
<p>With hooks, our refactored the <code class="language-text">PokemonInfo</code> component consists of three parts now:</p>
<ul>
<li>state setup</li>
<li>side effect setup</li>
<li>template rendering</li>
</ul>
<p>You will see that a lot of hook-powered components look more-less the same way.</p>
<p>The state looks like a local variable and only the <code class="language-text">useState()</code> function
makes it "persisted" magically across function's reruns/rerenders.</p>
<p>The lifecycle methods that spread effects across multiple functions
have been squeezed into one effect function that may have dependencies on a state.</p>
<p>Finally, the rendering part remains as simple and clear as it had been in the pure function components before.</p>
<p>Overall these changes have made the <code class="language-text">PokemonInfo</code> component cleaner and its structure is now more predictable and standard.
That's a great sign that our component and <a href="/blog/communicate-through-code/">its intent</a> are going to be well understood by other engineers.</p>
<h2 id="declarative-vs-imperative" style="position:relative;"><a href="#declarative-vs-imperative" aria-label="declarative vs imperative permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Declarative vs Imperative</h2>
<p>It's not a coincidence I paid your attention to the new <code class="language-text">PokemonInfo</code> structure.
If you compare it to the previous one, you may find out that it became more declarative.
Previously, it was us who was deliberately changing the internal state, invoking it in the right lifecycle event.
Essentially, we were telling React how to do things for us.</p>
<p>Hooks have shifted that paradigm to a more declarative one.
They allow us to tell React what we want to get and let it figure out the rest.</p>
<p>This is a great property as it enables compilers to have more control over rerendering optimizations for us and instead of us.</p>
<h2 id="conclusions" style="position:relative;"><a href="#conclusions" aria-label="conclusions permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Conclusions</h2>
<p>For me, this short story is a good example
that we need to be always contentious about what kind of problem we want to solve and
never be frightening of breaking some existing rules or best practices.
Chances are they were not designed to be applied in your context anyway.</p>
<p>And that is how revolutions happen.</p>
<h2 id="references" style="position:relative;"><a href="#references" aria-label="references permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>References</h2>
<ul>
<li><a href="https://reactjs.org/docs/hooks-intro.html" target="_blank" rel="noopener noreferrer">[ReactJs] Introducing Hooks</a></li>
<li><a href="https://reactjs.org/docs/hooks-overview.html" target="_blank" rel="noopener noreferrer">[ReactJs] Hooks at a Glance</a></li>
</ul></div></div><div id="content-end"></div></article><div data-nosnippet="" class="social-share-wrapper"><h3>Share Your Love</h3><button keywords="" aria-label="Share Via Facebook" title="Share Via Facebook" class="react-share__ShareButton social-share-item facebook" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook" class="svg-inline--fa fa-facebook " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"></path></svg></button><button keywords="" aria-label="Share Via Twitter" class="react-share__ShareButton social-share-item twitter" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></button><button aria-label="Share Via LinkedIn" keywords="" class="react-share__ShareButton social-share-item linkedin" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin-in" class="svg-inline--fa fa-linkedin-in " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg></button><button keywords="" aria-label="Share Via Reddit" class="react-share__ShareButton social-share-item reddit" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="reddit" class="svg-inline--fa fa-reddit " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"></path></svg></button><button keywords="" aria-label="Add to Pocket" class="react-share__ShareButton social-share-item pocket" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="get-pocket" class="svg-inline--fa fa-get-pocket " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M407.6 64h-367C18.5 64 0 82.5 0 104.6v135.2C0 364.5 99.7 464 224.2 464c124 0 223.8-99.5 223.8-224.2V104.6c0-22.4-17.7-40.6-40.4-40.6zm-162 268.5c-12.4 11.8-31.4 11.1-42.4 0C89.5 223.6 88.3 227.4 88.3 209.3c0-16.9 13.8-30.7 30.7-30.7 17 0 16.1 3.8 105.2 89.3 90.6-86.9 88.6-89.3 105.5-89.3 16.9 0 30.7 13.8 30.7 30.7 0 17.8-2.9 15.7-114.8 123.2z"></path></svg></button></div></main><aside class="blogpost-sidebar"><div data-nosnippet="" class="blog-navigation-wrapper"><h3>Read Other Posts</h3><nav class="blog-navigation"><div class="nav-links"><a rel="next" class="next-post" href="/blog/communicate-through-code/">Communicate Through Code<!-- --> â</a><a rel="prev" class="prev-post" href="/blog/kubernetes-essentials/">â <!-- -->Kubernetes: Essentials</a><a class="all-posts" href="/blog/">All Posts</a></div></nav></div></aside><footer data-nosnippet=""><div class="footer-wrapper"><div data-nosnippet="" class="social"><ul class="social-list"><li class="social-item social-linkedin"><a rel="me" itemProp="url" href="https://www.linkedin.com/in/glushko-roman" title="Roman Glushko on LinkedIn" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin-in" class="svg-inline--fa fa-linkedin-in fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg><span>LinkedIn</span></a></li><li class="social-item social-github"><a rel="me" itemProp="url" href="https://github.com/roma-glushko" title="Roman Glushko on Github" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github-alt" class="svg-inline--fa fa-github-alt fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path fill="currentColor" d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path></svg><span>GitHub</span></a></li><li class="social-item social-email"><a itemProp="email" href="mailto:roman.glushko.m@gmail.com" title="Roman Glushko&#x27;s Email"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="envelope" class="svg-inline--fa fa-envelope fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"></path></svg><span>Email</span></a></li><li class="social-item social-kaggle"><a rel="me" itemProp="url" href="https://www.kaggle.com/glushko" title="Roman Glushko on Kaggle" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="kaggle" class="svg-inline--fa fa-kaggle fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M304.2 501.5L158.4 320.3 298.2 185c2.6-2.7 1.7-10.5-5.3-10.5h-69.2c-3.5 0-7 1.8-10.5 5.3L80.9 313.5V7.5q0-7.5-7.5-7.5H21.5Q14 0 14 7.5v497q0 7.5 7.5 7.5h51.9q7.5 0 7.5-7.5v-109l30.8-29.3 110.5 140.6c3 3.5 6.5 5.3 10.5 5.3h66.9q5.25 0 6-3z"></path></svg><span>Kaggle</span></a></li><li class="social-item social-twitter"><a rel="me" itemProp="url" href="https://twitter.com/roma_glushko" title="Roman Glushko on Twitter" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg><span>Twitter</span></a></li><li class="social-item social-patreon"><a rel="me" itemProp="url" href="https://www.patreon.com/roma_glushko" title="Support my content on Patreon" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="patreon" class="svg-inline--fa fa-patreon fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M512 194.8c0 101.3-82.4 183.8-183.8 183.8-101.7 0-184.4-82.4-184.4-183.8 0-101.6 82.7-184.3 184.4-184.3C429.6 10.5 512 93.2 512 194.8zM0 501.5h90v-491H0v491z"></path></svg><span>Patreon</span></a></li></ul></div><div class="copyright">Roman Glushko Â© 1996 - <!-- -->2023<!-- --> <br/><a rel="license" href="https://creativecommons.org/licenses/by/4.0/" title="Content is published under CC BY 4.0 license">CC BY 4.0</a></div><div class="pgp"><a href="https://keybase.io/roman_hlushko">AB49 B91C C3E5 8E73</a></div></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-148139633-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-148139633-1', 'auto', {"alwaysSendReferrer":true});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ET53Q3S3XF"></script><script>
      
      function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='G-ET53Q3S3XF',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-ET53Q3S3XF', {"anonymize_ip":true,"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/react-hooks/";window.___webpackCompilationHash="d6dc311cf668b0344992";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-6ba3ef57a3809c083721.js"],"app":["/app-5f01e41cbc0680437bde.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-40c5c51cbd228d9f816e.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-7da924f92b7e5649fcf8.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-939667abc91bc9ec923d.js"],"component---src-pages-cv-ecommerce-developer-js":["/component---src-pages-cv-ecommerce-developer-js-9ca1ab5ae1a29ac7fc33.js"],"component---src-pages-cv-machine-learning-engineer-js":["/component---src-pages-cv-machine-learning-engineer-js-0ab4e1dd28cddd369b65.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-e6c9ed1af5bb25e0b90f.js"],"component---src-pages-lab-js":["/component---src-pages-lab-js-ff9dfd3151a249f6a274.js"],"component---src-pages-lab-rock-paper-scissors-index-js":["/component---src-pages-lab-rock-paper-scissors-index-js-408aabb5046c68ee445b.js"],"component---src-pages-thoughts-js":["/component---src-pages-thoughts-js-3f7e45f4b7fe08bcc2d3.js"],"component---src-templates-blog-template-js":["/component---src-templates-blog-template-js-a42e494bc743100a04b7.js"],"component---src-templates-thought-template-js":["/component---src-templates-thought-template-js-99dcf82c85c51026b957.js"]};/*]]>*/</script><script src="/polyfill-6ba3ef57a3809c083721.js" nomodule=""></script><script src="/app-5f01e41cbc0680437bde.js" async=""></script><script src="/framework-66593811e9142e61db32.js" async=""></script><script src="/webpack-runtime-524f32c2a717e382f3ba.js" async=""></script></body></html>