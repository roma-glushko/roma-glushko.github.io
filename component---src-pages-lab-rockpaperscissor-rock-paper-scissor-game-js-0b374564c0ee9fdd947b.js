(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"7fYu":function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),o=a.n(n),c=(a("Wbzz"),a("IP2g")),r=a("wHSu");a("bi5d");var i=function(e){var t,a;function n(t){var a;return(a=e.call(this,t)||this).mountCameraStream=function(e){e.msHorizontalMirror=!0,navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((function(t){e.srcObject=t,a.setState({cameraStreamMounted:!0})})).catch((function(e){console.log("Something went wrong: "+e)})):console.log("No camera?")},a.onRoundStarted=function(){a.setState({isRoundStarted:!0,roundCountdown:3,computerChoice:-1,humanChoice:-1});setTimeout((function e(){if(a.state.roundCountdown>=1)return a.setState({roundCountdown:a.state.roundCountdown-1}),void setTimeout(e,1e3);a.onRoundFinished()}),1e3)},a.onRoundFinished=function(){a.getHumanChoiceFrame(),requestAnimationFrame((function(){a.getHumanChoiceFrame(a.camera.current).then((function(){}))})),a.setState({computerChoice:a.makeComputerChoice(),isRoundStarted:!1})},a.getHumanChoiceFrame=function(e){var t=a.humanChoiceImage.current.getContext("2d");return t.translate(300,0),t.scale(-1,1),t.drawImage(e,0,0,300,300),e},a.predictHumanChoice=function(e){},a.scoreRound=function(e,t){},a.makeComputerChoice=function(){return Math.floor(Math.random()*a.choices.length)},a.renderChoice=function(e){return-1===e?"":a.choices[e]},a.choices=["‚úä","‚úã","‚úåÔ∏è"],a.camera=o.a.createRef(),a.humanChoiceImage=o.a.createRef(),a.state={cameraStreamMounted:!1,humanScore:0,computerScore:0,isRoundStarted:!1,roundCountdown:3,computerChoice:-1,humanChoice:-1},a}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var i=n.prototype;return i.componentDidMount=function(){this.mountCameraStream(this.camera.current)},i.render=function(){var e=this.state,t=e.humanScore,a=e.computerScore,n=e.cameraStreamMounted,i=e.isRoundStarted,m=e.roundCountdown,u=e.computerChoice,s=e.humanChoice;return o.a.createElement("div",{className:"game"},o.a.createElement("div",{className:"game-item"},o.a.createElement("div",{className:"player"},o.a.createElement("canvas",{className:"human-choice-image",ref:this.humanChoiceImage}))),o.a.createElement("div",{className:"game-item"},o.a.createElement("div",{className:"title"},"üß† You"),o.a.createElement("div",{className:"player human"},o.a.createElement("video",{ref:this.camera,className:"video-background",playsInline:!0,autoPlay:!0},"No Video"),-1!==s?o.a.createElement("div",{className:"choice"},this.renderChoice(s)):"")),o.a.createElement("div",{className:"game-item controls"},o.a.createElement("div",{className:"score"},t," : ",a),i?o.a.createElement("div",{className:"countdown"},m):o.a.createElement("button",{className:"play",onClick:this.onRoundStarted,disabled:!n},o.a.createElement(c.a,{icon:r.c})," Play")),o.a.createElement("div",{className:"game-item"},o.a.createElement("div",{className:"title"},"ü§ñ AI"),o.a.createElement("div",{className:"player computer"},-1!==u?o.a.createElement("div",{className:"choice"},this.renderChoice(u)):"")))},n}(o.a.Component);t.default=i},bi5d:function(e,t,a){}}]);
//# sourceMappingURL=component---src-pages-lab-rockpaperscissor-rock-paper-scissor-game-js-0b374564c0ee9fdd947b.js.map