---
import { getBlogPosts } from 'src/content/collections';

import PostTeaser from '@components/blog/PostTeaser.astro';
import BlogLayout from '@layouts/BlogLayout.astro';

import "../../styles/blog.css";

const posts = await getBlogPosts()
---
<BlogLayout
	title={"Blog"}
	description={"Technical blog about software engineering, machine learning, and data science"}
	keywords={[
		"technical blog",
		"software engineering blog",
		"machine learning blog",
		"math",
		"engineering",
		"data science",
		"roman glushko blog",
		"roma glushko blog",
	]}
>
		<main
		  data-nosnippet=""
		  class={`blog-list blog-grid ${!posts.length ? "no-posts" : ""}`}
		>
		  {!posts.length && (
			<div class="no-posts-placeholder">
			  Great posts will be here as soon as my muse comes back to me &nbsp;
			  <span role="img" aria-label="magic will happen soon">
				ðŸ’«
			  </span> &nbsp;
			  <br />
			  Come back soon &nbsp;
			  <span aria-label="bye" role="img">
				ðŸ‘‹
			  </span>
			</div>
		  )}
		  {posts.map(
			(post) => (
			  <PostTeaser post={post} />
			)
		  )}
		</main>
</BlogLayout>