---
import PostKeywords from "./blog/PostKeywords.astro"

import ReadingStatusBadge from "./blog/ReadingStatusBadge"
import NewPostBadge from "./blog/NewPostBadge"

import './PostTeaser.css'

export interface Props {
	id: string | undefined;
    slug: string;
	title: string;
	excerpt: string;
    pubDate: Date;
	cover: {
        image: string | undefined,
        credits: string | undefined,
    },
    keywords: string[];
}

const {id, title, excerpt, pubDate, keywords, slug} = Astro.props;

const postId = id || slug;
const postURL = `/blog/${slug}`;
---
<article class="blog-item">
    <a class="article-header" href={postURL}>
      <div class="cover-filter">
        <!-- <GatsbyImage class="cover" image={cover} alt={title} /> -->
      </div>
      <NewPostBadge publishDate={pubDate} client:only />
    </a>
    <div class="article-details">
      <h2>
        <a href={postURL}>{title}</a>
      </h2>
      <div class="blog-details">
        <time class="blog-created-at" datetime={pubDate.toISOString()}>
          {pubDate.toLocaleDateString("en-US", {month: "short", day: "numeric", year: "numeric"})}
        </time>
        <!--
        <span> â€¢ </span>
        <span class={`blog-time2read`}>
          {timeToRead}
          {timeToRead > 1 ? `mins` : `min`} read
        </span> -->
        <ReadingStatusBadge contentId={postId} client:only />
      </div>
      <p class="blog-digest">{excerpt}</p>
      <PostKeywords keywords={keywords} />
    </div>
</article>